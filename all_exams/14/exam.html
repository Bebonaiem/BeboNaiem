<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>موقع الامتحان</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@400;500;600;700&family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Favicon (optional) -->
    <link rel="icon" href="logo.png" type="image/png">
    <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "ryu0obaihe");
    </script>
    <style>
        /* --- THEME AND LAYOUT --- */
        :root {
            /* Shared Variables */
            --font-family-primary: 'IBM Plex Sans Arabic', sans-serif;
            --font-family-secondary: 'Tajawal', sans-serif;
            --border-radius-sm: 8px;
            --border-radius-md: 14px;
            --border-radius-lg: 20px;
            --transition-fast: all 0.2s ease-in-out;
            --transition-smooth: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --font-size-multiplier: 1; /* For JS font scaling */

            /* Default to Dark Theme */
            --primary-color: #00c6ff;
            --primary-hover: #00a9e0;
            --primary-glow: rgba(0, 198, 255, 0.4);
            --secondary-color: #e64980;
            --secondary-glow: rgba(230, 73, 128, 0.3);
            --success-color: #28a745;
            --danger-color: #dc3545;
            --danger-hover: #c82333;
            --warning-color: #ffc107;
            --flagged-color: var(--warning-color);
            --app-bg: #0d1117;
            --card-bg: #161b22;
            --element-bg: #21262d;
            --border-color: #30363d;
            --text-primary: #f0f6fc;
            --text-secondary: #c9d1d9;
            --text-muted: #8b949e;
        }
        
        body.light-theme {
            --primary-color: #007bff;
            --primary-hover: #0056b3;
            --primary-glow: rgba(0, 123, 255, 0.2);
            --secondary-color: #e83e8c;
            --secondary-glow: rgba(232, 62, 140, 0.2);
            --success-color: #198754;
            --danger-color: #dc3545;
            --danger-hover: #c82333;
            --warning-color: #ffc107;
            --app-bg: #f8f9fa;
            --card-bg: #ffffff;
            --element-bg: #f1f3f5;
            --border-color: #dee2e6;
            --text-primary: #212529;
            --text-secondary: #495057;
            --text-muted: #6c757d;
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: var(--font-family-secondary);
            background-color: var(--app-bg);
            color: var(--text-primary);
            line-height: 1.7;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            transition: background-color var(--transition-smooth), color var(--transition-smooth);
        }

        .container {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-lg);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.05);
            width: 100%;
            max-width: 900px;
            padding: 35px 40px;
            animation: fadeInScreen 0.6s var(--transition-smooth) forwards;
        }
        
        body.light-theme .container { box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08); }

        .screen { display: none; }
        .screen.active { display: block; }
        
        @keyframes fadeInScreen {
            from { opacity: 0; transform: translateY(15px) scale(0.98); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        /* --- BUTTONS --- */
        .btn {
            background: linear-gradient(145deg, var(--primary-color), var(--primary-hover));
            color: white;
            border: none;
            padding: 12px 28px;
            font-size: 1.05em;
            font-family: var(--font-family-primary);
            font-weight: 600;
            border-radius: var(--border-radius-md);
            cursor: pointer;
            transition: var(--transition-fast);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            text-decoration: none;
        }
        .btn:hover:not(:disabled) { transform: translateY(-3px) scale(1.03); box-shadow: 0 6px 15px var(--primary-glow); }
        .btn:active:not(:disabled) { transform: translateY(0) scale(1); }
        .btn:disabled { background: var(--element-bg); color: var(--text-muted); cursor: not-allowed; box-shadow: none; transform: none; }

        .btn-secondary { background: var(--element-bg); color: var(--text-primary); border: 1px solid var(--border-color); }
        .btn-secondary:hover:not(:disabled) { background: var(--border-color); color: var(--text-primary); box-shadow: none; }
        
        .btn-danger { background: linear-gradient(145deg, var(--danger-color), var(--danger-hover)); color: white; }
        .btn-danger:hover:not(:disabled) { background: linear-gradient(145deg, var(--danger-hover), var(--danger-color)); box-shadow: 0 6px 15px rgba(220, 53, 69, 0.3); }

        .btn-success { background: var(--success-color); color: white; }
        .btn-success:hover:not(:disabled) { background: color-mix(in srgb, var(--success-color) 85%, black); box-shadow: 0 6px 15px rgba(40, 167, 69, 0.3); }

        .btn-warning { background: var(--warning-color); color: var(--text-primary); }
        body.dark-theme .btn-warning { color: #111; }
        .btn-warning:hover:not(:disabled) { background: color-mix(in srgb, var(--warning-color) 85%, black); box-shadow: 0 6px 15px rgba(255, 193, 7, 0.3); }

        /* --- WELCOME SCREEN --- */
        #welcomeScreen { text-align: center; }
        #welcomeScreen h1 { font-size: 2.8em; font-weight: 700; color: var(--primary-color); text-shadow: 0 0 15px var(--primary-glow); margin-bottom: 20px; }
        #welcomeScreen .exam-intro { font-size: 1.2em; color: var(--text-secondary); max-width: 600px; margin: 0 auto 30px auto; }
        .config-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 25px; align-items: end; }
        .config-item label { display: block; font-weight: 500; color: var(--text-secondary); margin-bottom: 8px; text-align: right; }
        .config-item select { width: 100%; padding: 10px; border-radius: var(--border-radius-sm); border: 1px solid var(--border-color); background-color: var(--element-bg); color: var(--text-primary); font-family: var(--font-family-primary); }
        .config-item select option { background-color: var(--card-bg); }
        #exam-duration-info { margin-bottom: 30px; font-weight: 500; }
        #exam-duration-info strong { color: var(--primary-color); }
        .start-buttons-group { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin-bottom: 20px; }
        #resumePrompt { background-color: rgba(255, 193, 7, 0.1); border: 1px solid var(--warning-color); padding: 15px; border-radius: var(--border-radius-md); margin-bottom: 20px; }

        /* --- EXAM SCREEN --- */
        .exam-header { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid var(--border-color); }
        #question-counter { font-size: 1.1em; font-weight: 600; color: var(--text-secondary); }
        #timer { font-size: 1.3em; font-weight: 700; background-color: var(--element-bg); padding: 8px 16px; border-radius: var(--border-radius-md); transition: var(--transition-fast); }
        .timer-warning { color: var(--danger-color); }
        .timer-untimed { color: var(--text-secondary); }
        .progress-bar-container { width: 100%; height: 8px; background-color: var(--element-bg); border-radius: 4px; overflow: hidden; margin-bottom: 25px; }
        .progress-bar { height: 100%; width: 0%; background: linear-gradient(90deg, var(--primary-color), var(--secondary-color)); transition: width 0.4s ease-out; }
        .question-area { text-align: right; margin-bottom: 25px; }
        .question-top-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .font-size-controls button, .action-btn { background: none; border: 1px solid var(--border-color); color: var(--text-muted); padding: 6px 12px; border-radius: var(--border-radius-sm); cursor: pointer; transition: var(--transition-fast); }
        .font-size-controls button:hover, .action-btn:hover { border-color: var(--primary-color); color: var(--primary-color); }
        .action-btn.active { background-color: var(--warning-color); color: #111; border-color: var(--warning-color); font-weight: 600; }
        #questionText { font-size: calc(1.4em * var(--font-size-multiplier)); font-weight: 500; margin-bottom: 30px; line-height: 1.8; }
        .options-container label {
            display: block;
            background-color: var(--element-bg);
            border: 1px solid var(--border-color);
            padding: calc(15px * var(--font-size-multiplier)) calc(20px * var(--font-size-multiplier));
            margin-bottom: calc(12px * var(--font-size-multiplier));
            border-radius: var(--border-radius-md);
            cursor: pointer;
            transition: var(--transition-smooth);
            font-size: calc(1em * var(--font-size-multiplier));
        }
        .options-container label:hover { border-color: var(--primary-color); background-color: var(--border-color); }
        .options-container label.selected { border-color: var(--primary-color); box-shadow: 0 0 10px var(--primary-glow); font-weight: 600; }
        .options-container input[type="radio"] { margin-left: 15px; transform: scale(1.3); accent-color: var(--primary-color); }
        .exam-footer { display: flex; justify-content: space-between; align-items: center; gap: 10px; }
        #pauseOverlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(22, 27, 34, 0.95); display: none; flex-direction: column; justify-content: center; align-items: center; z-index: 50; border-radius: var(--border-radius-lg); }
        #pauseOverlay h3 { font-size: 2em; margin-bottom: 20px; }
        
        /* --- RESULTS SCREEN --- */
        .results-actions { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin-top: 30px; }
        .review-area { margin-top: 40px; }
        #reviewFilterContainer { margin-bottom: 20px; }
        .review-item { padding: 18px; margin-bottom: 15px; border-radius: var(--border-radius-md); border-right: 5px solid; transition: var(--transition-fast); }
        .review-item:hover { transform: translateY(-2px); box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .review-item-correct { border-right-color: var(--success-color); background-color: rgba(40, 167, 69, 0.08); }
        .review-item-incorrect { border-right-color: var(--danger-color); background-color: rgba(220, 53, 69, 0.08); }
        .review-item-unanswered { border-right-color: var(--text-muted); }
        .review-item .explanation-text { margin-top: 10px; padding-top: 10px; border-top: 1px dashed var(--border-color); color: var(--text-secondary); font-size: 0.95em; }
        
        /* --- NEW RESULTS SUMMARY STYLES --- */
        .results-summary {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            padding: 20px 0;
            text-align: center;
        }
        .score-visual-container {
            position: relative;
            width: 180px;
            height: 180px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .score-donut {
            width: 100%;
            height: 100%;
        }
        .score-donut-bg {
            stroke: var(--element-bg);
        }
        .score-donut-fg {
            stroke: var(--primary-color);
            transition: stroke-dashoffset 1s cubic-bezier(0.25, 0.8, 0.25, 1), stroke 0.5s ease;
            stroke-dasharray: 339.292; /* 2 * PI * 54 */
            stroke-dashoffset: 339.292;
        }
        .score-visual-text {
            position: absolute;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        #scoreMainText {
            font-size: 2em;
            font-weight: 700;
            color: var(--text-primary);
        }
        #scorePercentageText {
            font-size: 1.1em;
            font-weight: 500;
            color: var(--text-secondary);
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            width: 100%;
            max-width: 500px;
            margin-top: 20px;
        }
        .stat-card {
            background-color: var(--element-bg);
            padding: 15px;
            border-radius: var(--border-radius-md);
            border: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            transition: var(--transition-fast);
        }
        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .stat-card i {
            font-size: 1.5em;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        .stat-card .stat-label {
            font-size: 0.9em;
            color: var(--text-muted);
            font-weight: 500;
        }
        .stat-card .stat-value {
            font-size: 1.2em;
            font-weight: 700;
            color: var(--text-primary);
        }
        .feedback-message {
            font-size: 1.3em !important;
            font-weight: 600 !important;
            padding: 10px 20px;
            border-radius: var(--border-radius-sm);
            margin-top: 15px !important;
            width: 100%;
        }

        @media (max-width: 600px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* --- MODALS --- */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(13, 17, 23, 0.8); backdrop-filter: blur(5px); display: none; justify-content: center; align-items: center; z-index: 1000; animation: fadeInModal 0.3s ease; }
        .modal-overlay.active { display: flex; }
        .modal-content { background-color: var(--card-bg); padding: 30px; border-radius: var(--border-radius-md); width: 90%; max-width: 600px; text-align: right; transform: scale(0.95); animation: scaleUpModal 0.3s ease forwards; }
        @keyframes fadeInModal { from { opacity: 0; } to { opacity: 1; } }
        @keyframes scaleUpModal { from { transform: scale(0.95); } to { transform: scale(1); } }

        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .modal-header h3 { font-size: 1.5em; color: var(--primary-color); }
        .modal-close-btn { background: none; border: none; font-size: 1.8em; color: var(--text-muted); cursor: pointer; transition: var(--transition-fast); }
        .modal-close-btn:hover { color: var(--primary-color); transform: rotate(90deg); }
        .modal-body { max-height: 60vh; overflow-y: auto; }
        .modal-footer { margin-top: 25px; text-align: center; display: flex; justify-content: center; gap: 15px;}
        
        .q-nav-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(50px, 1fr)); gap: 10px; }
        .q-nav-item { width: 50px; height: 50px; display: flex; justify-content: center; align-items: center; border: 1px solid var(--border-color); border-radius: var(--border-radius-sm); cursor: pointer; transition: var(--transition-fast); font-weight: 500; }
        .q-nav-item:hover { border-color: var(--primary-color); color: var(--primary-color); }
        .q-nav-item.current { background-color: var(--primary-color); color: white; font-weight: 700; transform: scale(1.1); }
        .q-nav-item.answered { background-color: rgba(40, 167, 69, 0.15); border-color: var(--success-color); }
        .q-nav-item.flagged { box-shadow: 0 0 0 2px var(--warning-color) inset; }

        /* --- THEME TOGGLE SWITCH --- */
        .theme-switch-wrapper { display: flex; align-items: center; position: absolute; top: 20px; left: 20px; }
        .theme-switch { display: inline-block; height: 24px; position: relative; width: 48px; }
        .theme-switch input { display: none; }
        .slider { background-color: var(--element-bg); bottom: 0; cursor: pointer; left: 0; position: absolute; right: 0; top: 0; transition: .4s; border-radius: 24px; border: 1px solid var(--border-color); }
        .slider:before { background-color: var(--card-bg); bottom: 3px; content: ""; height: 18px; left: 4px; position: absolute; transition: .4s; width: 18px; border-radius: 50%; box-shadow: 0 1px 3px rgba(0,0,0,0.2); }
        input:checked + .slider { background-color: var(--primary-color); }
        input:checked + .slider:before { transform: translateX(24px); }
        .theme-switch-wrapper .fa-sun, .theme-switch-wrapper .fa-moon { font-size: 1em; color: var(--text-muted); transition: color .4s; }
        .theme-switch-wrapper .fa-sun { margin-left: 8px; }
        .theme-switch-wrapper .fa-moon { margin-right: 8px; }
        body.light-theme .fa-sun { color: var(--primary-color); }
        body.dark-theme .fa-moon { color: var(--primary-color); }
        
        /* Print Styles */
        @media print {
            body { background-color: #fff !important; color: #000 !important; font-size: 12pt; }
            .container { box-shadow: none !important; border: none !important; padding: 0 !important; max-width: 100% !important; }
            .printable-area, .printable-area * { visibility: visible; }
            .screen:not(#resultsScreen), .theme-switch-wrapper, .results-actions, footer { display: none !important; }
            h1, h2, h3 { color: #000 !important; text-shadow: none !important; }
            #scoreText { color: #000 !important; }
            .review-item { border: 1px solid #ccc !important; page-break-inside: avoid; }
            .stats-grid, .score-visual-container { display: none; } /* Hide new visual elements in print */
            .feedback-message { background: #eee !important; color: #000 !important; }
        }
        
        /* Responsive Styles for Exam Footer */
        @media (max-width: 500px) {
            .exam-footer {
                flex-direction: column;
                gap: 12px;
            }
            .exam-footer .btn {
                width: 100%;
            }
        }

    </style>
</head>
<body class="dark-theme">

    <div class="theme-switch-wrapper">
        <i class="fas fa-moon"></i>
        <label class="theme-switch" for="theme-checkbox">
            <input type="checkbox" id="theme-checkbox" />
            <span class="slider"></span>
        </label>
        <i class="fas fa-sun"></i>
    </div>

    <div id="welcomeScreen" class="container screen active">
        <h1><i class="fas fa-graduation-cap"></i> منصة الاختبارات المتقدمة</h1>
        <p class="exam-intro">استعد لاختبار معلوماتك وتحديد مستواك. اختر الإعدادات المناسبة لك وانطلق. نتمنى لك كل التوفيق!</p>
        
        <div class="config-grid">
            <div class="config-item">
                <label for="numQuestionsSelect"><i class="fas fa-list-ol"></i> عدد الأسئلة</label>
                <select id="numQuestionsSelect">
                    <option value="10">10 (ممارسة سريعة)</option>
                    <option value="25">25 (اختبار قصير)</option>
                    <option value="all">كل الأسئلة (ماراثون)</option>
                </select>
            </div>
            <div class="config-item">
                <label for="difficultySelect"><i class="fas fa-brain"></i> مستوى الصعوبة</label>
                <select id="difficultySelect">
                    <option value="all">كل المستويات (متنوع)</option>
                </select>
            </div>
        </div>
        <p id="exam-duration-info"></p>

        <div id="resumePrompt" style="display:none;">
            <p><strong>لديك جلسة اختبار محفوظة.</strong></p>
            <div class="start-buttons-group">
                <button id="resumeButton" class="btn btn-success"><i class="fas fa-play-circle"></i> استئناف الجلسة</button>
                <button id="discardButton" class="btn btn-secondary"><i class="fas fa-trash-alt"></i> تجاهل والبدء من جديد</button>
            </div>
        </div>
        
        <div class="start-buttons-group">
            <button id="startButton" class="btn"><i class="fas fa-stopwatch"></i> ابدأ اختبار موقوت</button>
            <button id="startNoTimerButton" class="btn btn-warning"><i class="fas fa-infinity"></i> ابدأ بدون مؤقت</button>
            <button id="startRandomButton" class="btn btn-secondary"><i class="fas fa-dice"></i> أسئلة عشوائية</button>
        </div>
        <button id="lastExamButton" class="btn btn-secondary" style="display:none; margin: 10px auto;"><i class="fas fa-history"></i> عرض نتائج آخر اختبار</button>
    </div>

    <div id="examScreen" class="container screen">
        <div class="exam-header">
            <span id="question-counter"></span>
            <div id="timer">00:00</div>
            <button id="pauseExamButton" class="action-btn"><i class="fas fa-pause"></i></button>
        </div>
        <div class="progress-bar-container"><div id="progressBar" class="progress-bar"></div></div>

        <div id="pauseOverlay">
            <h3><i class="fas fa-pause-circle"></i> الاختبار متوقف مؤقتًا</h3>
            <p>اضغط على زر الاستئناف للمتابعة.</p>
            <button id="resumeFromOverlayButton" class="btn"><i class="fas fa-play"></i> استئناف الاختبار</button>
        </div>

        <div class="question-area">
            <div class="question-top-bar">
                <button id="flagQuestionButton" class="action-btn"><i class="far fa-flag"></i> علم للسؤال</button>
                <div class="font-size-controls">
                    <button id="decreaseFontButton" title="تصغير الخط"><i class="fas fa-search-minus"></i></button>
                    <button id="increaseFontButton" title="تكبير الخط"><i class="fas fa-search-plus"></i></button>
                </div>
            </div>
            <p id="questionText"></p>
            <form id="optionsForm">
                 <div id="optionsContainer" class="options-container"></div>
            </form>
        </div>
        <div class="exam-footer">
            <button id="prevButton" class="btn btn-secondary"><i class="fas fa-chevron-right"></i> السابق</button>
            <button id="openQuestionNavButton" class="btn btn-secondary"><i class="fas fa-list-ol"></i> تصفح</button>
            <button id="endExamButton" class="btn btn-danger"><i class="fas fa-flag-checkered"></i> إنهاء الاختبار الآن</button>
            <button id="nextButton" class="btn">التالي <i class="fas fa-chevron-left"></i></button>
        </div>
    </div>

    <div id="resultsScreen" class="container screen printable-area">
        <h2><i class="fas fa-award"></i> نتائج الاختبار</h2>
        <div class="results-summary" id="newResultsSummary">
            <div class="score-visual-container">
                <svg class="score-donut" width="180" height="180" viewBox="0 0 120 120">
                    <circle class="score-donut-bg" cx="60" cy="60" r="54" fill="transparent" stroke-width="12"></circle>
                    <circle class="score-donut-fg" cx="60" cy="60" r="54" fill="transparent" stroke-width="12" stroke-linecap="round" transform="rotate(-90 60 60)"></circle>
                </svg>
                <div class="score-visual-text">
                    <span id="scoreMainText">0/0</span>
                    <span id="scorePercentageText">0%</span>
                </div>
            </div>
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-stopwatch"></i>
                    <span class="stat-label">الوقت المستغرق</span>
                    <span id="timeTakenText" class="stat-value">--</span>
                </div>
                <div class="stat-card">
                    <i class="fas fa-hashtag"></i>
                    <span class="stat-label">المحاولة رقم</span>
                    <span id="attemptNumberText" class="stat-value">--</span>
                </div>
                <div class="stat-card">
                    <i class="fas fa-check"></i>
                    <span class="stat-label">إجابات صحيحة</span>
                    <span id="correctAnswersText" class="stat-value">--</span>
                </div>
                <div class="stat-card">
                    <i class="fas fa-times"></i>
                    <span class="stat-label">إجابات خاطئة</span>
                    <span id="incorrectAnswersText" class="stat-value">--</span>
                </div>
            </div>
            <p id="feedbackText" class="feedback-message"></p>
        </div>
        <div class="results-actions">
            <button id="restartButton" class="btn"><i class="fas fa-redo"></i> اختبار جديد</button>
            <button id="retryIncorrectButton" class="btn btn-warning" style="display:none;"><i class="fas fa-sync-alt"></i> إعادة الأسئلة الخاطئة</button>
            <button id="printResultsButton" class="btn btn-secondary"><i class="fas fa-print"></i> طباعة النتائج</button>
        </div>
        <div class="review-area">
            <h3><i class="fas fa-tasks"></i> مراجعة تفصيلية</h3>
             <div id="reviewFilterContainer">
                <label for="statusFilter">تصفية:</label>
                <select id="statusFilter" class="config-item select">
                    <option value="all">الكل</option>
                    <option value="correct">صحيحة</option>
                    <option value="incorrect">خاطئة</option>
                    <option value="unanswered">لم تتم الإجابة</option>
                    <option value="flagged">معلمة</option>
                </select>
            </div>
            <div id="reviewContainer"></div>
        </div>
    </div>
    
    <!-- Modals -->
    <div id="questionNavModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>تصفح الأسئلة</h3>
                <button class="modal-close-btn" data-modal-id="questionNavModal">&times;</button>
            </div>
            <div class="modal-body">
                <p>انقر على رقم للانتقال إلى السؤال مباشرة.</p>
                <div id="qNavGrid" class="q-nav-grid"></div>
            </div>
        </div>
    </div>
    
    <div id="confirmEndModal" class="modal-overlay">
        <div class="modal-content" style="text-align: center;">
             <div class="modal-header">
                <h3>تأكيد إنهاء الاختبار</h3>
                <button class="modal-close-btn" data-modal-id="confirmEndModal">&times;</button>
            </div>
            <div class="modal-body">
                <p style="font-size: 1.2em;">هل أنت متأكد من رغبتك في إنهاء الاختبار الآن؟ سيتم تصحيح إجاباتك الحالية.</p>
            </div>
            <div class="modal-footer">
                <button id="confirmEndBtn" class="btn btn-danger">نعم، قم بالإنهاء</button>
                <button class="btn btn-secondary" data-modal-id="confirmEndModal">لا، العودة للاختبار</button>
            </div>
        </div>
    </div>

    <script>
        "use strict";

        // --- CONFIGURATION ---
        const EXAM_DATA = {
            storageKeys: {
                theme: 'examPlatform_theme_v3',
                inProgress: 'examPlatform_inProgress_v3',
                lastResults: 'examPlatform_lastResults_v3',
                attemptCounter: 'examPlatform_attemptCounter_v3'
            },
            baseTimePerQuestion: 30, // 30 seconds per question
            minExamTime: 1, // minutes
        };

        const QUESTIONS_BANK = [
            // True/False Questions from User Data
            // الفصل الأول
            { id: 1, text: "مصادر التعلم تقتصر على تلبية الحاجات التعليمية فقط دون الاهتمام بالحاجات الإخبارية أو الترفيهية أو الثقافية.", type: "tf", answer: false },
            { id: 2, text: "مصادر التعلم يمكن ان تكون كيانات مادية او رقمية.", type: "tf", answer: true },
            { id: 3, text: "مصادر التعلم هي كل الوسائل والقنوات التي يمكن نقل المعلومات من خلالها في المستقبل.", type: "tf", answer: true },
            { id: 4, text: "تصميم مصادر التعلم يتطلب تنظيم المادة التعليمية بطريقة تراعي الخصائص الإدراكية للمتعلم.", type: "tf", answer: true },
            { id: 5, text: "تصميم مصادر التعلم لا يُعد علماً مستقلاً بل مجرد مجموعة من الخبرات المتراكمة العملية.", type: "tf", answer: false },
            { id: 6, text: "التصميم التعليمي كعملية لا يتطلب تطبيق مدخل منهجي بل يعتمد على الحدس والخبرة.", type: "tf", answer: false },
            { id: 7, text: "تصميم مصادر التعلم يهدف إلى إنتاج المعرفة فقط دون الاهتمام بكيفية تقديمها للمتعلم.", type: "tf", answer: false },
            { id: 8, text: "تشمل مرحله التحليل اساليب البحث مثل تحليل الحاجات وتحليل المهام وتحليل المحتوى.", type: "tf", answer: true },
            { id: 9, text: "تهتم مرحله التصميم بوضع المخططات والمسودات الاوليه لتطوير عمليه التعليم.", type: "tf", answer: true },
            { id: 10, text: "يتم تحديد اهداف الاداء بناء على اهداف الدرس ومخرجات التعلم في مرحله التصميم.", type: "tf", answer: true },
            { id: 11, text: "يتم في مرحلة التطوير ترجمه مخرجات عمليه التصميم.", type: "tf", answer: true },
            { id: 12, text: "في مرحله التطوير يتم تطوير التعليم وكل الوسائل التعليميه التي تستخدم فيه وايه مواد اخرى داعمه.", type: "tf", answer: true },
            { id: 13, text: "تتكون مرحله التقويم من التقويم التكويني والتقويم الختامي.", type: "tf", answer: true },
            { id: 14, text: "من معايير تصميم مصادر التعلم ان تتوفر المواد والادوات اللازمه لانتاج مصدر التعلم.", type: "tf", answer: true },
            { id: 15, text: "من شروط مصادر هي التعلم المحتوى والمظهر والمنهجيه.", type: "tf", answer: true },
            { id: 16, text: "في اغلب الاوقات ليس من الضروري ان يكون محتوى الرساله العلميه التي يحمل المصدر مناسبه ومتناسقه.", type: "tf", answer: false, explanation: "يجب ان يكون المحتوى المصدر متناسق ومناسب." },
            { id: 17, text: "نستطيع ان نعتمد على الكتب المدرسيه مفردها كمصدر كافي للتعلم.", type: "tf", answer: false, explanation: "لا يعد مصدرا كافيا مهما كان درجه شمولته." },
            { id: 18, text: "هل يجب على المعلم انتقاء المصدر التعليمي من حيث يكون مناسب لسن طلاب.", type: "tf", answer: true },
            { id: 19, text: "ليس من الضروري ان تكون المصادر تشمل اخر تطورات العلميه.", type: "tf", answer: false, explanation: "يجب ان تكون مشتمله على اخر تطورات العلمية." },
            { id: 20, text: "يجب توخى الحظر عند انتقاء مصادر التي تعرض للطلاب.", type: "tf", answer: true },
            { id: 21, text: "هل من الضروري ان يكون هناك نسخه من المصدر مطبوعه في يد الطلاب قبل واثناء الشرح.", type: "tf", answer: true },
            { id: 22, text: "هل من الضروري اجراء مناقشات لاثاره اهتمام الطلاب.", type: "tf", answer: true },
            { id: 23, text: "الاستخدام الوظيفي يهتم فقط بتحقيق الأهداف دون النظر إلى جودة التعليم.", type: "tf", answer: false },
            { id: 24, text: "الاندماجية من خصائص الاستخدام الوظيفي وتعني تكامل المصادر معًا.", type: "tf", answer: true },
            { id: 25, text: "من خصائص الاستخدام الوظيفي لمصادر التعلم الفرضية الوظيفية وسد الحاجات التعليمية فقط.", type: "tf", answer: false, explanation: "يهتم أيضاً بتحسين التعليم وتجويده." },
            { id: 26, text: "لكي يتم استخدام المصادر بشكل وظيفي، يجب توافر الوقت والمكان المناسبين.", type: "tf", answer: true },
            { id: 27, text: "من خصائص الاستخدام الوظيفي لمصادر التعلم الاندماجية، والتعددية، والتفاعلية، والتكاملية.", type: "tf", answer: true },
            { id: 28, text: "لتحقيق الاستخدام الوظيفي للمصادر التعليمية، يجب توافر المعرفة التكنولوجية والمهارات العلمية.", type: "tf", answer: true },
            { id: 29, text: "من فوائد الاستخدام الوظيفي لمصادر التعلم الحفاظ على المصادر لزيادة عمرها الافتراضي، وسهولة استخدامها عند الحاجة.", type: "tf", answer: true },
            { id: 30, text: '"النمط المشروعي"، هو الذي يختار فيه المعلم المواد التعليمية للطالب، ويتيح له فرصة التوجيه بإشراف المعلم.', type: "tf", answer: false },
            { id: 31, text: "تشجيع المعلمين على استخدام مصادر التعلم يُعد من خصائص الاستخدام الوظيفي لمصادر التعلم.", type: "tf", answer: false },
            { id: 32, text: 'النمط الرابع، أو نمط العرض"، هو نمط يُستخدم إلى جانب الكلام والشرائح، حيث يعرض مزيدًا من الشرح ويوضح النقاط الرئيسية.', type: "tf", answer: false, explanation: "الصحيح: النمط الثالث." },
            { id: 33, text: "تعد الاندماجية والتعددية من أهم متطلبات الاستخدام الوظيفي لمصادر التعلم.", type: "tf", answer: false },
            { id: 34, text: "تحفظ المصادر المطبوعة المعرفة والثقافة لعصور طويلة.", type: "tf", answer: true },
            { id: 35, text: "تُعد المصادر المطبوعة نتيجة المستحدثات العملية والدراسات التكنولوجية.", type: "tf", answer: false, explanation: "الصحيح: المصادر غير المطبوعة." },
            { id: 36, text: 'قسمت المصادر غير المطبوعة حسب الحواس لثلاث مصادر هي "سمعية وحسية وبصرية"', type: "tf", answer: false, explanation: "الصحيح: سمعية وبصرية و سمعية بصرية." },
            { id: 37, text: "المواد الجماعية هي لجميع فئات المجتمع وتستخدم في نطاق واسع.", type: "tf", answer: false, explanation: "الصحيح: المواد الجماهيرية." },
            { id: 38, text: "من أمثلة المصادر البسيطة اللوحات الكهربائية لأنها تعتمد على خامات بيئية محلية.", type: "tf", answer: false, explanation: "الصحيح: لوحات فقط وليست لوحات كهربائيه." },
            { id: 39, text: "مستحدثات مصادر التعلم هي أجهزة أو آلات حديثة تهدف لزيادة قدرة المعلم والطالب على التعامل مع العملية التعليمية.", type: "tf", answer: true },
            { id: 40, text: "من متطلبات توظيف مستحدثات مصادر التعلم تدريب كل من المتعلمين على استخدام مستحدثات مصادر التعلم بشكل جيد وفعلي كي يتم دمجها بشكل مكمل للموقف التعليمي وليس ترفا او كشيء ثانوي.", type: "tf", answer: true },
            { id: 41, text: "يمكن الا يتم تجريب مستحدثات مصادر التعلم قبل تعميمها.", type: "tf", answer: false },
            { id: 42, text: "تحديد مجال التوظيف هو تحديد الاوليات والمواقع التي تحتاج الى المعالجة والحلول.", type: "tf", answer: true },
            { id: 43, text: "المكتبة الإلكترونية هي مصدر غير دائم للتعلم.", type: "tf", answer: false },
            { id: 44, text: "يستطيع المتعلم الاطلاع بحرية على مصادر المكتبة الإلكترونية.", type: "tf", answer: true },
            { id: 45, text: "لا يمكن الرجوع إلى محتوى المكتبة الإلكترونية بعد استخدامه.", type: "tf", answer: false },
            { id: 46, text: "من خصائص المكتبة الإلكترونية وجود متخصصين لتقديم الخدمة من خلال الوسائل الإلكترونية.", type: "tf", answer: true },
            { id: 47, text: "الهدف من السقالات التعليميه هو تمكين المتعلم من انجاز المهمه او فهم السلوك بمفرده في نهاية المطاف.", type: "tf", answer: true },
            { id: 48, text: "النظرية البنائيه لا تهتم بكيفيه دعم المعلم لتعليم الطلاب.", type: "tf", answer: false, explanation: "تركز على استراتيجيات التدريس مثل السقالات." },
            { id: 49, text: "يجب على المعلم ان يقدم نفس نوع وكميه السقالات التعليميه لجميع الطلاب بغض النظر عن احتياجاتهم.", type: "tf", answer: false },
            { id: 50, text: "تمنح السقالات التعليميه التلاميذ فرصه للتنبؤ بالنتائج او طرح الاساله.", type: "tf", answer: true },
            { id: 51, text: "تعتبر استخدام دوره الثقافه القرائيه Literacy cycle احد اشكال الدعم المستمر.", type: "tf", answer: true },
            { id: 52, text: "يوجد نوع واحد فقط من السقالات التعليميه التي تقدم للتلاميد.", type: "tf", answer: false, explanation: "يوجد نوعان: الدعم المستمر والدعم المؤقت." },
            // الفصل الثاني
            { id: 53, text: "بيئة تعلم مراكز مصادر التعلم تحتوي على نوع واحد فقط من مصادر المعلومات.", type: "tf", answer: false, explanation: "تحتوي على أنواع متعددة من مصادر المعلومات." },
            { id: 54, text: "تشتمل مسميات مراكز مصادر التعلم كلا من مراكز النشاط، مراكز المصادر التربوية، مراكز الوسائل السمعية البصرية، المكتبة الشاملة.", type: "tf", answer: true },
            { id: 55, text: "هل نشأ مفهوم مراكز مصادر التعلم في القرن العشرين.", type: "tf", answer: false },
            { id: 56, text: "المرحله الخامسة من مراحل التطور التاريخي لمفهوم مراكز مصادر التعلم هو مركز مصادر التعلم.", type: "tf", answer: true },
            { id: 57, text: "يشترط في المرشح لوظيفة أخصائي مصادر التعلم أن تكون لديه خبرة تدريسية لا تقل عن أربع سنوات.", type: "tf", answer: true },
            { id: 58, text: "يعتمد مركز مصادر التعلم على مصدر واحد فقط في تقديم المعرفة.", type: "tf", answer: false, explanation: "يعتمد المركز على مصادر معرفية متعددة ومتنوعة كالمقروءة والمرئية، والمسموعة." },
            { id: 59, text: "مفهوم الوسائل التعليمية لم يشهد أي تطور منذ بداية القرن العشرين.", type: "tf", answer: false, explanation: "تطور مفهوم الوسائل التعليمية وأصبح عنصرًا أساسيًا في استراتيجيات التعليم الحديثة." },
            { id: 60, text: "من أهداف مراكز مصادر التعلم تعزيز التعلم الذاتي لدى المتعلمين.", type: "tf", answer: true },
            { id: 61, text: "لا يُشترط اجتياز اختبار تحريري أو مقابلة شخصية عند ترشيح أخصائي مصادر التعلم.", type: "tf", answer: false, explanation: "يجب على المرشح اجتياز اختبار تحريري ومقابلة شخصية ضمن معايير الترشيح." },
            { id: 62, text: "الاتزان الانفعالي وسلامة الفكر من الصفات الشخصية المطلوبة في المرشح لوظيفة أخصائي مصادر التعلم.", type: "tf", answer: true },
            { id: 63, text: "لا يُشترط في الأخصائي إتقان استخدام الحاسب الآلي في مجال عمله.", type: "tf", answer: false, explanation: "يجب أن يكون الأخصائي مُلِمَّا بمهارات استخدام الحاسب الآلي وتطبيقاته في التعليم." },
            { id: 64, text: "فلسفة مركز مصادر التعلم تقوم على العشوائية في تنفيذ الأنشطة التربوية.", type: "tf", answer: false, explanation: "تقوم على التخطيط الفعّال للأنشطة بما يُحفّز التفكير ويُعزّز التعلم النشط." },
            { id: 65, text: "من مهام مركز مصادر التعلم توفير مجالات الخبرة التعليمية وتطوير أساليب التدريس.", type: "tf", answer: true },
            { id: 66, text: "لا يُشترط أن يكون المرشح حاصلاً على مؤهل تربوي عند ترشيحه لوظيفة الأخصائي.", type: "tf", answer: false, explanation: "من الشروط الأساسية للترشيح أن يكون المرشح حاصلاً على مؤهل جامعي تربوي." },
            { id: 67, text: "تقتصر وظيفة مركز مصادر التعلم على حفظ الكتب وتنظيمها فقط.", type: "tf", answer: false, explanation: "تتعدى وظيفة المركز ذلك لتشمل دعم العملية التعليمية وتوفير بيئة تفاعلية للتعلم." },
            { id: 68, text: "يعتمد التعلم داخل مراكز مصادر التعلم على التفاعل والمشاركة النشطة.", type: "tf", answer: true },
            { id: 69, text: "أحد أهداف مركز مصادر التعلم هو تدريب المعلمين على أساليب التدريس الحديثة.", type: "tf", answer: true },
            { id: 70, text: "من الصفات غير المرغوبة في المرشح لوظيفة أخصائي : التهور والحدة في النقاش.", type: "tf", answer: true },
            { id: 71, text: "لا تُعد الدورات التدريبية في مجال التقنية من معايير الترشيح للأخصائي.", type: "tf", answer: false, explanation: "تُعد الدورات التدريبية في المجال التقني من المعايير العلمية المهمة للترشيح." },
            { id: 72, text: "ظهرت مراكز مصادر التعلم نتيجة للتطورات التربوية والتقنية المتسارعة.", type: "tf", answer: true },
            { id: 73, text: "من وظائف المركز تنظيم النشاط الرياضي والترفيهي.", type: "tf", answer: false, explanation: "تتمثل وظائف المركز في دعم التعلم وتوفير مصادر معرفية وتدريب المعلمين." },
            { id: 74, text: "يُعد تفاعل الطالب مع المصادر المتوفرة في المركز من عناصر نجاح عملية التعلم.", type: "tf", answer: true },
            { id: 75, text: "عند تصميم المركز، لا حاجة لتوفير التسهيلات المكانية والتقنية اللازمة.", type: "tf", answer: false, explanation: "من الضروري توفير التسهيلات المكانية والتقنية لدعم بيئة التعلم داخل المركز." },
            { id: 76, text: "يجب أن يكون تأثيث مراكز مصادر التعلم متناسبًا مع أعداد الطلاب ومرحلتهم الدراسية.", type: "tf", answer: true },
            { id: 77, text: "لا يحتاج أمناء مراكز مصادر التعلم إلى تدريب مسبق قبل تولي مهامهم.", type: "tf", answer: false, explanation: "بل يحتاجون إلى برامج تدريبية متقدمة في تخصص تكنولوجيا التعليم ليكونوا مؤهلين." },
            { id: 78, text: "يجب أن تقدم بأقل التكاليف لضمان الفاعلية والوصول لأكبر عدد من المستفيدين.", type: "tf", answer: true },
            { id: 79, text: "التعاون بين المعلمين وأمناء المراكز يساعد في تفعيل دور مراكز مصادر التعلم.", type: "tf", answer: true },
            // الفصل الثالث
            { id: 80, text: "من ضوابط انهاء تكليف مشرف وامين مصادر التعلم اجتياز اختبار الكفايات الدوري.", type: "tf", answer: false, explanation: "اذا لم يجتز اختبار الكفايات الدورى." },
            { id: 81, text: "ينهى تكليف مشرف وامين مصادر التعلم اذا انتهت مدته المحدده نظاماً.", type: "tf", answer: true },
            { id: 82, text: "من مهام مشرف مصادر التعلم القيام بالجولات الميدانيه على المدارس.", type: "tf", answer: true },
            { id: 83, text: "امین مرکز مصادر التعلم اداره وتشغيل مركز مصادر التعلم وتفعيله.", type: "tf", answer: true },
            { id: 84, text: "مدير المدرسة هو المسؤول الأول عن مركز مصادر التعلم داخل المدرسة.", type: "tf", answer: true },
            { id: 85, text: "أمين مركز مصادر التعلم لا يُعتبر من الهيئة الإشرافية.", type: "tf", answer: false },
            { id: 86, text: "من مهام المشرف التربوي متابعة أداء أمين المركز.", type: "tf", answer: true },
            { id: 87, text: "لجنة مصادر التعلم تضم فقط طلاب المدرسة.", type: "tf", answer: false },
            { id: 88, text: "وكيل المدرسة لا علاقة له بمركز مصادر التعلم.", type: "tf", answer: false },
            { id: 89, text: "الهيئة الإشرافية تضم أفرادا من داخل المدرسة وخارجها.", type: "tf", answer: true },
            { id: 90, text: "التنسيق بين المدرسة والإدارة التعليمية ليس من اختصاص المركز.", type: "tf", answer: false },
            { id: 91, text: "المعلمون لهم دور في لجنة مركز مصادر التعلم.", type: "tf", answer: true },
            { id: 92, text: "لجنة مركز المصادر تُشكل بقرار من المدير.", type: "tf", answer: true },
            { id: 93, text: "أمين المركز لا يشارك في إعداد خطة تشغيلية.", type: "tf", answer: false },
            { id: 94, text: "من واجبات المشرف التربوي تحديد احتياجات المركز.", type: "tf", answer: true },
            { id: 95, text: "التواصل بين المدرسة والإدارة يتم فقط عن طريق المشرف.", type: "tf", answer: false },
            { id: 96, text: "يتم تقييم أداء المركز مرة واحدة فقط في العام.", type: "tf", answer: false },
            { id: 97, text: "توثيق الأنشطة من مهام أمين المركز.", type: "tf", answer: true },
            { id: 98, text: "لا يجوز تعديل خطة المركز بدون موافقة الإدارة.", type: "tf", answer: true },
            { id: 99, text: "المشرف لا يتدخل في استخدام الأجهزة داخل المركز.", type: "tf", answer: false },
            { id: 100, text: "الدعم الفني لا يدخل ضمن مسؤوليات الهيئة الإشرافية.", type: "tf", answer: true },
            { id: 101, text: "يُطلب من لجنة المركز تقديم تقارير دورية.", type: "tf", answer: true },
            { id: 102, text: "أحد مهام المدير هو الإشراف المباشر على أنشطة المركز.", type: "tf", answer: true },
            { id: 103, text: "أعضاء اللجنة لا يشاركون في تقييم أداء المركز.", type: "tf", answer: false },
            // الفصل الرابع
            { id: 104, text: "يعد مركز مصادر التعلم ذو النظام المركزي هو الأعلى تكلفة من بين الأنماط الثلاثة.", type: "tf", answer: false, explanation: "هو الأقل تكلفة لأنه لا يتطلب مضاعفة في المكان أو الموظفين." },
            { id: 105, text: "يتيح مركز مصادر التعلم ذو النظام اللامركزي استخدام المواد التعليمية للطلاب والمعلمين داخل المدرسة.", type: "tf", answer: true },
            { id: 106, text: "المركز المنسق لا يحتوي على أجهزة نادرة أو ذات تكلفة عالية.", type: "tf", answer: false, explanation: "يحتوي على أجهزة نادرة وغالية مثل استوديوهات الإنتاج ومحطات الإرسال." },
            { id: 107, text: "مركز وزارة التربية والتعليم يعمل كمرجع عام لحل مشكلات المراكز الفرعية.", type: "tf", answer: true },
            { id: 108, text: "مراكز المديريات التعليمية لا تهتم بصيانة الأجهزة أو تدريب المعلمين.", type: "tf", answer: false, explanation: "تهتم بتدريب المعلمين وصيانة الأجهزة وتوزيعها." },
            { id: 109, text: "تهدف الانشطه المعلوماتيه الى تنميه المهارات البحث لدى المعلم.", type: "tf", answer: false, explanation: "الصحيح: المتعلم." },
            { id: 110, text: "تهدف الانشطه القرائيه الى تنمية مهارات استخدام الحاسب الالي.", type: "tf", answer: false, explanation: "تهدف لتنمية مهارات القراءة او التلخيص وعرض الكتاب." },
            { id: 111, text: "عرض الكتاب يعتبر من الانشطة التعليميه التي ينفذها المعلم لدعم عمليه التعلم.", type: "tf", answer: true },
            { id: 112, text: "يعتبر الانفجار المعرفي من الاسباب التي دعت الى ايجاد الحاسب الالي في مركز مصادر التعلم.", type: "tf", answer: true },
            { id: 113, text: "من المجالات التي يستخدم فيها الحاسب الالي داخل مركز مصادر التعلم تنفيذ الاعمال الاداريه والكتابيه.", type: "tf", answer: true },
            { id: 114, text: "تحويل فهرس المركز الى قاعده بيانات من استخدامات الحاسب الالي.", type: "tf", answer: true },
            { id: 115, text: "تنفيذ السياسات الموضوعيه باعلى كفاءه من اهداف اداره مركز مصادر التعلم.", type: "tf", answer: true },
            { id: 116, text: "لا يحتاج اداره مركز مصادر التعلم الى تنسيق بين الموارد البشريه والتكنولوجيا.", type: "tf", answer: false },
            { id: 117, text: "من الضروري التخطيط الاستراتيجي طويل المدى لمركز مصادر التعلم.", type: "tf", answer: true },
            { id: 118, text: "لا يتطلب مركز مصادر التعلم دعما اداريا مستمرا.", type: "tf", answer: false },
            { id: 119, text: "من اجل نجاح المركز مصادر التعلم يجب توفر دعم المالي كافي.", type: "tf", answer: true },
            { id: 120, text: "يعتبر التفاهم والاتصال الواضح حول رساله المركز ليس عنصرا ضروريا.", type: "tf", answer: false },
            { id: 121, text: "المواءمة بين مركز مصادر التعلم والبيئه الخارجيه من مبادئ الاداره الناجحه.", type: "tf", answer: false, explanation: "من اهداف اداره مركز مصادر التعلم." },
            { id: 122, text: "لا يجب ان يدعم مركز مصادر التعلم رساله المدرسه.", type: "tf", answer: false },
            { id: 123, text: "تعد الاداره الفعاله للعاملين والميزانيه والمصادر الماديه من مبادئ الاداره الناجحه.", type: "tf", answer: true },
            { id: 124, text: "يتطلب دعما اداريا مستمر من اهداف اداره مركز التعلم.", type: "tf", answer: false, explanation: "من مبادئ الاداره الناجحه." },
            { id: 125, text: "الشراكة المجتمعيه تجعل مراكز مصادر التعلم مشاركه في اصلاح المجتمع الإنساني.", type: "tf", answer: true },
            { id: 126, text: "دور قائد المدرسه في تقديم الدعم المعنوي لامين مركز مصادر التعلم لتطوير ادائهم وتحفيزهم.", type: "tf", answer: true },
            { id: 127, text: "دور اداره التعليم في توعيه المدارس باهميه توظيف مراكز مصادر التعلم.", type: "tf", answer: false, explanation: "دور قسم اداره التجهيزات المدرسيه." },
            { id: 128, text: "دور قسم المصادر التعلم بنشر الوعي التقني في الميدان التربوي بين المشرفين والتربويين وامين مصادر التعلم.", type: "tf", answer: false, explanation: "دور مشرف مصادر التعلم." },
            { id: 129, text: "التسهيلات الأساسية تمثل الحد الأدنى اللازم لتحقيق أهداف مركز مصادر التعلم.", type: "tf", answer: true },
            { id: 130, text: "وحدة الإنترنت ليست جزءًا من التسهيلات الأساسية التي يقدمها مركز مصادر التعلم.", type: "tf", answer: false, explanation: "هي جزء أساسي من التسهيلات." },
            { id: 131, text: "التسهيلات الاختيارية تشمل استوديو تلفزيوني وإنتاج الفيديو، لكنها ليست على مستوى المدارس العامة.", type: "tf", answer: true },
            { id: 132, text: "نجاح المركز يعتمد فقط على الأجهزة المتوفرة دون الحاجة إلى مواد تعليمية.", type: "tf", answer: false, explanation: "نجاح المركز يعتمد على توفير مواد تعليمية بجانب الأجهزة." },
            { id: 133, text: "اشتراك المستفيدين في اختيار المواد المطلوبة هو عنصر غير مهم في إدارة المركز.", type: "tf", answer: false, explanation: "مهم جدًا لاختيار المواد الملائمة." },
            { id: 134, text: "يجب أن تكون الأجهزة ذات جودة عالية ومتوقعة استخدامها بشكل متكرر لفترة طويلة.", type: "tf", answer: true },
            { id: 135, text: "اختيار أجهزة مراكز مصادر التعلم يعتمد على الميزانية فقط.", type: "tf", answer: false, explanation: "يعتمد أيضًا على تنوع المواقف التعليمية وأساليب التدريس." },
            { id: 136, text: "لا توجد أهمية لتقديم تدريب للعاملين على استخدام الأجهزة بكفاءة.", type: "tf", answer: false, explanation: "تدريب العاملين مهم جدا لزيادة كفاءتهم." },
            { id: 137, text: "نظام التداول الإلكتروني يجعل عملية استعارة المواد والأجهزة أكثر كفاءة لأنه يقلل الوقت والجهد.", type: "tf", answer: true },
            { id: 138, text: "تطور التقنية أدى إلى استبدال الطرق التقليدية في إدارة مراكز مصادر التعلم، مما جعل الفهرس الورقي عديم الفائدة تمامًا.", type: "tf", answer: false, explanation: "على الرغم من انتشار الفهرسة الإلكترونية، لا تزال بعض المراكز تحتفظ بالفهرس الورقي في بعض الحالات." },
            { id: 139, text: "التخطيط يُعد من الوظائف الإدارية الثانوية التي لا تسبق اتخاذ القرار في مراكز مصادر التعلم.", type: "tf", answer: false, explanation: "التخطيط يُعد من الوظائف الإدارية الأساسية التي تسبق أي عملية إدارية." },
            { id: 140, text: "يهدف التخطيط الاقتصادي إلى إعداد خطط تنموية شاملة لمستقبل المركز الاقتصادي.", type: "tf", answer: true },
            { id: 141, text: "اللغة الغامضة تؤثر سلبًا على فهم المستقبل للرسالة.", type: "tf", answer: true },
            { id: 142, text: "تُعد القنوات غير الفعّالة من معوقات الاتصال.", type: "tf", answer: true },
            { id: 143, text: "لا أهمية لتقييم القرار بعد تنفيذه.", type: "tf", answer: false, explanation: "التقييم يساعد في معرفه نجاح القرار ومدي فعاليته." },
            { id: 144, text: "من خصائص القرار الفعال أن يكون مبنياً علي معلومات دقيقة.", type: "tf", answer: true },
            { id: 145, text: "توفير الاجهزه المختبرية والمواد والبرامج التعليميه تعتبر من التطلعات المستقبلية لمراكز مصادر التعلم.", type: "tf", answer: true },
            { id: 146, text: "مراكز مصادر التعلم تسعي لزياده التفاعل بين الطالب والمحتوي باستخدام تقنيات حديثه.", type: "tf", answer: true },
            { id: 147, text: "توفير الكوادر البشرية اللازمه والمدربه للقيام بمهام فعاليات مؤتمر مصادر التعلم المختلفه في مديريات التربية والتعليم يساهم في تحقيق تحسين نوعية التعليم.", type: "tf", answer: true },
            { id: 148, text: "التصورات المستقبليه لتطوير مراكز مصادر التعلم تقتصر علي المجال المادي والمجال الفني.", type: "tf", answer: false, explanation: "تشمل المجال المادي والبشري والفني والإداري." },
            { id: 149, text: "توفير الخدمات الفنيه من حيث تجهيز وتشغيل الأجهزة في المركز تعبتر من تطوير المجال البشري.", type: "tf", answer: false, explanation: "تعتبر من تطوير المجال الفني." },
            { id: 150, text: "دعم الاداره المدرسه لتفعيل دور مراكز مصادر التعلم في المدرسه من تطوير المجال الإداري.", type: "tf", answer: true },
            { id: 151, text: "التخطيط لبرامج تحفيز المعلمين علي دمج التقنيه في التعليم وتنفيذها يعتبر من تطوير المجال الإداري.", type: "tf", answer: true },
            { id: 152, text: "توفير مساعدين لأمين مراكز التعلم في المدرسه من تطوير المجال البشري.", type: "tf", answer: true },
            { id: 153, text: "توفير مبرمج متخصص لإعداد البرمجيات اللازمه في مركز مصادر التعلم من تطوير المجال المادي.", type: "tf", answer: false, explanation: "من تطوير المجال البشري." },
            { id: 154, text: "ضروره تنمية المهارات بأشكالها ولا يتحقق ذلك إلا من خلال تنويع النشاطات والبدائل المعرفيه.", type: "tf", answer: true },
            { id: 155, text: "تقليل الأعباء عن امين مركز مصادر التعلم في المدرسه تعتبر من تطوير المجال البشري.", type: "tf", answer: true },
            { id: 156, text: "اختيار امين مركز مصادر التعلم وفق أسس اجتماعيه تخدم العمل في المركز.", type: "tf", answer: false, explanation: "يتم الاختيار وفق أسس موضوعية." },
            { id: 157, text: "تهدف مراكز مصادر التعلم إلي دعم التعلم الذاتي والمستقل بشكل أكبر.", type: "tf", answer: true },

            // Multiple Choice Questions from User Data
            // الفصل الأول
            { id: 158, text: "تعرف مصادر التعلم بأنها:", type: "mcq", options: ["أدوات رقمية لدعم التعليم الرسمي فقط.", "وسائل تقنية لتنشيط الترفيه المدرسي.", "مواد مادية تُستخدم داخل الصف.", "أدوات ومواد تطور مهارات المتعلم رسميًا وغير رسميًا."], answer: "أدوات ومواد تطور مهارات المتعلم رسميًا وغير رسميًا." },
            { id: 159, text: "أي من الآتي يُمثل أفضل تعريف للتصميم التعليمي كعلم؟", type: "mcq", options: ["مدخل قائم على مهارات المعلم فقط لتقديم المحتوى.", "فرع معرفي يهتم بإنتاج الأنشطة الصفية الترفيهية.", "عملية تطوير وتقويم مواقف تعليمية تسهّل تعلم الوحدات على مختلف مستويات التفكير.", "نظام إداري لتنظيم وقت الحصة الدراسية وتحقيق الانضباط."], answer: "عملية تطوير وتقويم مواقف تعليمية تسهّل تعلم الوحدات على مختلف مستويات التفكير." },
            { id: 160, text: "من خصائص تعريف علم تصميم مصادر التعلم:", type: "mcq", options: ["تنظيم المادة التعليمية بترتيب اعتباطي لتناسب تنوع الطلاب.", "التركيز على العرض البصري فقط دون مراعاة الإدراك.", "تنظيم المحتوى بطريقة منطقية تتوافق مع الخصائص الإدراكية للمتعلم.", "تصميم محتوى نظري مجرد دون ربطه بتطبيقات فعلية."], answer: "تنظيم المحتوى بطريقة منطقية تتوافق مع الخصائص الإدراكية للمتعلم." },
            { id: 161, text: "في أي مرحلة من مراحل تصميم مصادر التعلم يتم توصيف كيفية حدوث التعلم؟", type: "mcq", options: ["التحليل", "التصميم", "التنفيذ", "التقويم"], answer: "التصميم" },
            { id: 162, text: "من خطوات تصميم الحقيبة التعليميه", type: "mcq", options: ["الاختبار القبلي", "تحديد الاطار العام", "تحديد اسلوب العمل", "جميع ما سبق"], answer: "جميع ما سبق" },
            { id: 163, text: "يجب ان يكون محتوى الرساله التعليميه التي يقدمها المصدر تتوافق مع فلسفه النظام التعليمي هذه العباره عن", type: "mcq", options: ["التوافق مع الثقافه", "الصدق", "المرونه", "الجده والحداثه"], answer: "التوافق مع الثقافه" },
            { id: 164, text: "كثيرا ما يغلب الجانب الفني من الوان ومؤثرات صوتيه على الجانب العلمي تشير هذه العباره الى", type: "mcq", options: ["طغيان الجانب الفني على الجانب العلمي", "التركيز على الجانب العلمي على حساب الجانب الفني", "تحاشي مصادر التعلم الغير مفيده", "جميع ما سبق"], answer: "طغيان الجانب الفني على الجانب العلمي" },
            { id: 165, text: "مشاركه الطالب في عمليه البحث عن مصادر التعلم مع المعلم لكي يصل الى المعلومات تشير هذه العباره الى", type: "mcq", options: ["اعتماد طلاب على الجهودهم الخاصه", "التاكل على الاساتذه", "طغيان الجانب الفني على المعرفي", "لا شيء ما سبق"], answer: "اعتماد طلاب على الجهودهم الخاصه" },
            { id: 166, text: "أي من الآتي ليس من أهداف مصادر التعلم؟", type: "mcq", options: ["دعم المنهج الدراسي", "تزويد المتعلم بأدوات تساعده في التكيف", "إلغاء الفروق الفردية بين المتعلمين", "تنمية مهارات البحث والاستكشاف"], answer: "إلغاء الفروق الفردية بين المتعلمين" },
            { id: 167, text: "من أهداف مصادر التعلم أنها تتيح للمتعلم:", type: "mcq", options: ["الاعتماد الكامل على المعلم", "أساليب موحدة للتدريس", "فرصا للتعلم الذاتي", "دراسة منهج إضافي"], answer: "فرصا للتعلم الذاتي" },
            { id: 168, text: "تسهم مصادر التعلم في مواجهة التحديات المعرفية الحديثة من خلال:", type: "mcq", options: ["تقديم محتوى ترفيهي فقط.", "الحد من استخدام التكنولوجيا.", "مواجهة الانفجار المعرفي.", "التركيز على المهارات الحركية."], answer: "مواجهة الانفجار المعرفي." },
            { id: 169, text: "من النتائج المترتبة على استخدام مصادر التعلم:", type: "mcq", options: ["تقليص قدرات الطالب على البحث", "اكتساب اهتمامات جديدة", "الاعتماد الكلي على الكتاب المدرسي", "إلغاء دور المعلم في العملية التعليمية"], answer: "اكتساب اهتمامات جديدة" },
            { id: 170, text: "أي مما يلي يعد من أهداف مصادر التعلم للمعلم؟", type: "mcq", options: ["تقليل التفاعل بين المعلمين", "تبادل الخبرات مع زملائه", "تقليص المحتوى التعليمي", "إلغاء الأنشطة الصفية"], answer: "تبادل الخبرات مع زملائه" },
            { id: 171, text: "أي مما يلي يُعد من مصادر التعلم التي لا تحتاج إلى أجهزة في عرضها؟", type: "mcq", options: ["برامج الفيديو التعليمية", "اللوحات التعليمية", "السبورة التفاعلية", "الكمبيوتر"], answer: "اللوحات التعليمية" },
            { id: 172, text: "المصادر التي تظهر فيها الحركة وتُعرض الطبيعة تُسمى:", type: "mcq", options: ["مصادر تعلم ثابتة", "مصادر تعلم صامتة", "مصادر تعلم متحركة", "مصادر تعلم كلاسيكية"], answer: "مصادر تعلم متحركة" },
            { id: 173, text: "من أمثلة مصادر التعلم وفقًا لطبيعة المصدر - غير بشرية:", type: "mcq", options: ["الطبيب", "المهندس", "المحامي", "المواقع التعليمية"], answer: "المواقع التعليمية" },
            { id: 174, text: "مصدر تعلم يُستخدم فيه الصوت ويستجيب لتفاعل المتعلم هو:", type: "mcq", options: ["السبورة المغناطيسية", "الخرائط الورقية", "الكتاب المدرسي", "السبورة التفاعلية"], answer: "السبورة التفاعلية" },
            { id: 175, text: "أي من الآتي يُعتبر من مصادر التعلم الكلاسيكية؟", type: "mcq", options: ["الإنترنت", "المجلات والخرائط المطبوعة", "البرامج التعليمية", "معامل اللغات"], answer: "المجلات والخرائط المطبوعة" },
            { id: 176, text: "أي من الخصائص التالية ليست من خصائص الاستخدام الوظيفي؟", type: "mcq", options: ["الفرضية الوظيفية", "التفاعلية", "التلقائية", "التعددية"], answer: "التلقائية" },
            { id: 177, text: "يُعد ........ من متطلبات الاستخدام الوظيفي لمصادر التعلم:", type: "mcq", options: ["تسهيل التعليم", "تشجيع التعلم الإيجابي", "المعرفة التكنولوجية", "سد الحاجة التعليمية"], answer: "المعرفة التكنولوجية" },
            { id: 178, text: "كلا مما يأتي من فوائد الاستخدام الوظيفي لمصادر التعلم ما عدا:", type: "mcq", options: ["تحقيق الأهداف ونقل التعلم", "توسيع مدارك المتعلمين وزيادة معارفهم", "المحافظة على المصادر لزيادة عمرها الافتراضي", "المعرفة التكنولوجية والمهارات العلمية"], answer: "المعرفة التكنولوجية والمهارات العلمية" },
            { id: 179, text: "النمط الذي يقوم فيه الطالب باختيار المواد التعليمية التي يريدها ويقوم باستخدامها بنفسه لغرض خاص مثل كتابة مقال أو بحث هو:", type: "mcq", options: ["النمط التعييني", "النمط المشروعي", "نمط المجموعة التعليمية", "نمط التدريس عن طريق وسيط"], answer: "النمط المشروعي" },
            { id: 180, text: "كل مما يأتي من خصائص الاستخدام الوظيفي لمصادر التعلم ما عدا:", type: "mcq", options: ["الإدارة الجيدة", "التفاعلية", "الاندماجية", "التكاملية"], answer: "الإدارة الجيدة" },
            { id: 181, text: "من أمثلة المصادر المطبوعة ...", type: "mcq", options: ["اللوحات", "الدوريات", "الفيديو", "الصور"], answer: "الدوريات" },
            { id: 182, text: "كلاً مما يلي من أمثلة المصادر المطبوعة عدا ...", type: "mcq", options: ["المراجع", "النشرات", "الكتب", "الشرائح"], answer: "الشرائح" },
            { id: 183, text: "تقسم المصادر غير المطبوعة تبعاً ل........ لانها تستخدم في فهم رسالتها", type: "mcq", options: ["الحواس", "السلم التكنولوجي", "الحداثة", "اعداد المستفيدين"], answer: "الحواس" },
            { id: 184, text: "تم تقسيم المواد غير المطبوعة حسب درجة التعقيد في السلم التكنولوجي وحسب عدد المستفيدين علي الترتيب إلي ....", type: "mcq", options: ["مصادر معقدة ومصادر سمعية", "مواد جماعية ومصادر متوسطة", "مواد جماعية ومواد جماهيرية", "مصادر بسيطة ومواد فردية"], answer: "مصادر بسيطة ومواد فردية" },
            { id: 185, text: "تهدف مستحدثات مصادر التعلم ل.....", type: "mcq", options: ["زيادة قدرة المعلم والمتعلم على التعامل مع العملية التعليمية", "زيادة قدرة الطالب فقط في التعامل مع الوسائل التعليمية", "استبدال المعلمين في المستقبل بوسائل احدث", "تقليل التكاليف واستخدام وسائل تقليدية"], answer: "زيادة قدرة المعلم والمتعلم على التعامل مع العملية التعليمية" },
            { id: 186, text: "من شروط توظيف مستحدثات مصادر التعلم...", type: "mcq", options: ["حديثة لمن يتبناها", "مقتصرة على نوع تعليم معين", "قديمة لكن مشهورة", "معقدة الاستخدام"], answer: "حديثة لمن يتبناها" },
            { id: 187, text: "من معايير استخدام المستحدث الجيد القابلية للاستخدام ويعني هذا أن ....", type: "mcq", options: ["يحل مشكلات التعلم بفاعلية", "يواكب التطورات الهائلة", "يتم توظيفه في النظام التعليمي بدون عقبات تمنع الاستفادة منه", "يقدم فوائد تعليمية تستحق التكاليف المبذولة في استخدامه"], answer: "يتم توظيفه في النظام التعليمي بدون عقبات تمنع الاستفادة منه" },
            { id: 188, text: "من معايير توظيف مستحدثات مصادر التعلم...", type: "mcq", options: ["يواكب التطور التكنولوجي", "يتوافق مع ثقافة المجتمع", "يحسن مكونات النظام التعليمي", "جميع ما سبق"], answer: "جميع ما سبق" },
            { id: 189, text: "ما المقصود بتشخيص المشكلات التعليمية؟", type: "mcq", options: ["تحديد الأولويات في التعليم", "تحليل مصادر التعلم المتاحة", "التعرف على المشكلات التي يواجهها المتعلمون والمعلمون ووضع بدائل للتغلب عليها", "تجربة أدوات تكنولوجية جديدة"], answer: "التعرف على المشكلات التي يواجهها المتعلمون والمعلمون ووضع بدائل للتغلب عليها" },
            { id: 190, text: "يتضمن تحديد مجال التوظيف:", type: "mcq", options: ["التعرف على المهارات الأساسية للمعلمين", "تحديد أولويات ومواقع تحتاج إلى معالجة وحلول", "تطوير البنية التحتية للمدارس", "تقويم المناهج الدراسية"], answer: "تحديد أولويات ومواقع تحتاج إلى معالجة وحلول" },
            { id: 191, text: "تجريب مستحدثات مصادر التعلم يعتبر:", type: "mcq", options: ["رفاهية لا ضرورة لها", "جزء من استراتيجية التجديد والتطوير", "من وسائل العقاب", "مضيعة للوقت"], answer: "جزء من استراتيجية التجديد والتطوير" },
            { id: 192, text: "لماذا يجب تدريب المعلمين والمتعلمين على استخدام مستحدثات مصادر التعلم؟", type: "mcq", options: ["لاستخدامها في الأنشطة الترفيهية فقط", "لأنها جزء من الخطة اليومية للمدرسة", "ليتم دمجها في الموقف التعليمي بشكل جيد وفعال", "لأن الوزارة تفرض استخدامها"], answer: "ليتم دمجها في الموقف التعليمي بشكل جيد وفعال" },
            { id: 193, text: "ما هي الإستراتيجية التدريسيه التي تركز عليها النظريه البنائيه لدعم المتعلم مؤقتا", type: "mcq", options: ["السقالات التعليميه", "الاختبارات الدوريه", "المحاضرات التقليدية", "الواجبات المنزليه المكثفه"], answer: "السقالات التعليميه" },
            { id: 194, text: "ما هو الهدف النهائي لتقديم مجموعه متنوعه من الأنشطة والبرامج كدعم مؤقت للمتعلم", type: "mcq", options: ["تمكين المتعلم ليصبح تعلمه ذاتياً ومعتمداً علي قدرته", "جعل التعليم اكثر صعوبه", "تقليل دور المعلم في العمليه التعليميه", "زياده وقت التعلم"], answer: "تمكين المتعلم ليصبح تعلمه ذاتياً ومعتمداً علي قدرته" },
            { id: 195, text: "ما هي احدي تطبيقات النظرية البنائيه في مجال التعليم", type: "mcq", options: ["التركيز علي الحفظ والتلقين", "تجاهل الفروق الفرديه بين المتعلمين", "استخدام استراتيجيات التدريس مثل السقالات التعليميه", "تقديم المعلومات بشكل جاهز دون تفاعل الطالب"], answer: "استخدام استراتيجيات التدريس مثل السقالات التعليميه" },
            // الفصل الثاني
            { id: 196, text: "ما هي طبيعة بيئة تعلم مراكز مصادر التعلم؟", type: "mcq", options: ["تعتمد على مصدر واحد للمعلومات.", "تتفاعل بشكل محدود مع المتعلم.", "تحتوي على أنواع متعددة من مصادر المعلومات.", "تركز فقط على الجانب النظري للمعرفة."], answer: "تحتوي على أنواع متعددة من مصادر المعلومات." },
            { id: 197, text: "ما هي إحدى النتائج المترتبة على تفاعل المتعلم مع مصادر المعلومات المتعددة في مراكز مصادر التعلم؟", type: "mcq", options: ["تقليل مهارات البحث والاستكشاف لديهم.", "الاعتماد بشكل كامل على توجيهات المعلم.", "إضعاف قدراتهم على تصميم المادة الدراسية وتطويرها.", "إتاحة فرص اكتساب المهارات والخبرات وإثراء المعرفة."], answer: "إتاحة فرص اكتساب المهارات والخبرات وإثراء المعرفة." },
            { id: 198, text: "أي من الأسماء التالية يعتبر اسمًا بديلًا لمراكز مصادر التعلم؟", type: "mcq", options: ["مركز التدريب المهني.", "مركز النشاط.", "مركز الاختبارات والتقويم.", "مركز الدعم الإداري."], answer: "مركز النشاط." },
            { id: 199, text: "متى بدأت الإشارات الأولى لمفهوم مراكز مصادر التعلم بالظهور؟", type: "mcq", options: ["في القرن التاسع عشر وما قبله.", "في القرن العشرين فقط.", "بعد عام ٢٠٠٠ ميلادي.", "في القرن الحادي والعشرين."], answer: "في القرن التاسع عشر وما قبله." },
            { id: 200, text: "متى بدأ التطور الحقيقي لمراكز مصادر التعلم؟", type: "mcq", options: ["بداية الخمسينيات", "أواسط الستينيات وبداية السبعينيات", "نهاية السبعينيات", "بداية التسعينيات"], answer: "أواسط الستينيات وبداية السبعينيات" },
            { id: 201, text: "كم عدد مراحل التطور لمفهوم مراكز مصادر التعلم؟", type: "mcq", options: ["خمس مراحل", "ست مراحل", "أربع مراحل", "ثلاث مراحل"], answer: "خمس مراحل" },
            { id: 202, text: "الأسباب التي أدت الى إقامة مركز مصادر التعلم", type: "mcq", options: ["الأمية وتعليم الكبار", "إثارة اهتمام الدارسين", "الارتفاع بنوعيه المعلم", "جميع ما سبق"], answer: "جميع ما سبق" },
            { id: 203, text: "المرحلة الرابعة من مراحل التطور التاريخي لمفهوم مراكز مصادر التعلم", type: "mcq", options: ["مركز مصادر التعلم", "المكتبة الشاملة", "المكتبة الصفية", "مكتبه المواد والمطبوعات"], answer: "المكتبة الشاملة" },
            { id: 204, text: "أي من الاختيارات التالية لا يُعد من الأهداف العامة التي تسعى مراكز مصادر التعلم إلى تحقيقها ضمن رسالتها التربوية؟", type: "mcq", options: ["دعم وتنمية قدرات الطلبة على تحقيق ذواتهم وتطوير مهاراتهم الشخصية", "توفير اختبارات تعليمية غير متاحة في بيئات التعلم التقليدية", "المساهمة في تحقيق أهداف المؤسسة التعليمية", "تقديم خدمات مجتمعية تخدم البيئة المحيطة بالمؤسسة"], answer: "توفير اختبارات تعليمية غير متاحة في بيئات التعلم التقليدية" },
            { id: 205, text: "أي من العبارات التالية تعكس فرقاً أساسياً بين مهام أمين المكتبة المدرسية وأمين مركز مصادر التعلم؟", type: "mcq", options: ["أمين مركز مصادر التعلم يحرص على التعاون مع المعلمين، بينما يعمل أمين المكتبة غالبًا بشكل فردي", "أمين المكتبة يتعاون مع المعلمين بينما أمين مصادر التعلم يعمل منفردًا", "أمين مركز مصادر التعلم يضطلع بمهامه منفردا دون تعاون", "كلاهما يعمل بمعزل عن الكادر التعليمي"], answer: "أمين مركز مصادر التعلم يحرص على التعاون مع المعلمين، بينما يعمل أمين المكتبة غالبًا بشكل فردي" },
            { id: 206, text: "أي مما يلي يُعد من الأهداف الخاصة التي تسعى مراكز مصادر التعلم إلى تحقيقها؟", type: "mcq", options: ["توفير فرص مناسبة لاكتساب الخبرات الضرورية لنمو الطلاب من خلال المواد التعليمية المطبوعة وغير المطبوعة عند تعذر الخبرات المباشرة", "تعزيز دور المؤسسة التعليمية في خدمة المجتمع المحلي", "تنمية مهارات الاستقلال الذاتي والتعلم المستمر لدى الطلاب", "دعم تحقيق الأهداف العامة للمؤسسة التعليمية"], answer: "توفير فرص مناسبة لاكتساب الخبرات الضرورية لنمو الطلاب من خلال المواد التعليمية المطبوعة وغير المطبوعة عند تعذر الخبرات المباشرة" },
            { id: 207, text: "يُساعد مركز مصادر التعلم في:", type: "mcq", options: ["اختيار الوسائل التعليمية المناسبة فقط", "إنتاج وسائل تعليمية بسيطة", "إجراء الاختبارات", "لا شيء مما سبق"], answer: "إنتاج وسائل تعليمية بسيطة" },
            { id: 208, text: "من مهام مركز مصادر التعلم تقديم المشورة لـ:", type: "mcq", options: ["الطلبة فقط", "المشرفين فقط", "أعضاء هيئة التدريس بالمدرسة", "كل ما سبق"], answer: "أعضاء هيئة التدريس بالمدرسة" },
            { id: 209, text: "تتمثل عمليات الاستعارة في:", type: "mcq", options: ["إعارة المصادر ومتابعتها واسترجاعها", "إعارة المصادر دون استرجاع", "توزيع المصادر بشكل دائم", "كل ما سبق"], answer: "إعارة المصادر ومتابعتها واسترجاعها" },
            { id: 210, text: "أحد الأسس التي دعت لإقامة مراكز مصادر التعلم هو:", type: "mcq", options: ["تجاهل احتياجات المعلمين", "الابتعاد عن بيئة التعلم", "تكامل الخبرة التعليمية", "متابعه المعلم"], answer: "تكامل الخبرة التعليمية" },
            { id: 211, text: "التأكيد على التعلم يُعتبر:", type: "mcq", options: ["خدمة ثانوية", "غير مرتبط بمراكز مصادر التعلم", "جزءًا أساسيًا من الأسس لإقامة مراكز مصادر التعلم", "كل ما سبق"], answer: "جزءًا أساسيًا من الأسس لإقامة مراكز مصادر التعلم" },
            { id: 212, text: "من الأسس التي دعت لإقامة مراكز مصادر التعلم:", type: "mcq", options: ["تقليل استخدام الوسائل الحديثة", "تنوع المصادر التعليمية وتكامل الخبرة", "الاعتماد على طريقة واحدة للتدريس", "لا شيء مما سبق"], answer: "تنوع المصادر التعليمية وتكامل الخبرة" },
            { id: 213, text: "المسؤول عن إعتماد الموازنه المخصصه لمراكز مصادر التعلم:", type: "mcq", options: ["إدارة المدرسه", "المعلمون", "الوزارة", "الطلاب"], answer: "الوزارة" },
            { id: 214, text: "من أبرز الأدوار التي تسهم بها مراكز مصادر التعلم في تحسين العملية التعليمية في مجال الاداره :", type: "mcq", options: ["التخطيط لبرامج المركز والأساليب في تنفيذها.", "دراسه احتياجات المركز من المواد والأجهزة.", "اعتماد الطالب على ذاته في عمليه التعليم.", "B وA معا"], answer: "B وA معا" },
            { id: 215, text: "ما الذي تعده المكتبة الشاملة ضمن مكوناتها الأساسية؟", type: "mcq", options: ["المواد المطبوعة فقط.", "المواد السمعية فقط.", "الوسائط المتعددة فقط.", "جميع ما سبق."], answer: "جميع ما سبق." },
            { id: 216, text: "أي من العناصر التالية يُعد من أبرز مكونات وحدة المواد المطبوعة في مراكز مصادر التعلم؟", type: "mcq", options: ["الكتب والمعاجم والمراجع", "الوسائط المرئية الثابتة والمتحركة", "الأجهزة والوسائل التعليمية التكنولوجية", "العينات والنماذج التعليمية المجسمة"], answer: "الكتب والمعاجم والمراجع" },
            { id: 217, text: "تُسهم المختبرات المدرسية في تنفيذ عدد من المهام التربوية، من أبرزها:", type: "mcq", options: ["تنظيم الفعاليات اللاصفية داخل المدرسة", "تطوير استراتيجيات تقييم الأداء المدرسي", "تمكين المعلمين والطلاب من إنتاج الوسائل التعليمية الداعمة للمقررات الدراسية", "إعداد حملات توعوية ذات طابع اجتماعي"], answer: "تمكين المعلمين والطلاب من إنتاج الوسائل التعليمية الداعمة للمقررات الدراسية" },
            { id: 218, text: "تتنوع الأنشطة التعليمية التي تقدم داخل مركز مصادر التعلم، ومن أبرزها:", type: "mcq", options: ["تنفيذ حملات توعوية موجهة مثل مكافحة الإرهاب أو التدخين", "تقديم عروض تقديمية وعلمية تطبيقية مرتبطة بالمحتوى الدراسي", "توفير الدعم المباشر لعملية تعلم الطالب", "جميع ما سبق"], answer: "جميع ما سبق" },
            { id: 219, text: "في إطار أدواره المجتمعية، يقدم مركز مصادر التعلم مجموعة من الأنشطة الاجتماعية، منها:", type: "mcq", options: ["المساهمة في خدمة المجتمع المحلي", "تفعيل منصات التواصل الاجتماعي المدرسية", "إشراك أولياء الأمور في إعداد المناهج", "دعم البرامج الرياضية والفنية"], answer: "المساهمة في خدمة المجتمع المحلي" },
            { id: 220, text: "نشاطات الهدف منها خدمة المجتمع مثل مثل حمله ضد الإرهاب هي :", type: "mcq", options: ["نشاطات اجتماعيه.", "نشاطات ثقافية", "نشاطات معلوماتية.", "نشاطات قرائية."], answer: "نشاطات اجتماعيه." },
            { id: 221, text: "نشاطات يقوم بها الطالب اعتمادًا على ذاته لدعم تعلمه هي :", type: "mcq", options: ["نشاطات قرائية.", "نشاطات معلوماتية.", "نشاطات تعلميه.", "نشاطات ثقافية."], answer: "نشاطات تعلميه." },
            { id: 222, text: "يجب أن يكون موقع مركز مصادر التعلم داخل المدرسة في", type: "mcq", options: ["الدور العلوي", "مكان يسهل الوصول إليه", "مكان منعزل", "بجوار المعمل"], answer: "مكان يسهل الوصول إليه" },
            { id: 223, text: "يشترط أن يكون امين المركز", type: "mcq", options: ["معلم لغة عربية", "مشرف", "مؤهل في مجال تكنولوجيا التعليم", "خريج تربية رياضية"], answer: "مؤهل في مجال تكنولوجيا التعليم" },
            { id: 224, text: "من أنشطة مركز مصادر التعلم", type: "mcq", options: ["إقامة العروض التعليمية", "تقديم الدعم للأنشطة الصفية واللاصفية", "تفعيل برنامج القراءه الحره", "جميع ما سبق"], answer: "جميع ما سبق" },
            { id: 225, text: "يتم تقديم أنشطة المركز للطلاب من خلال", type: "mcq", options: ["برامج القراءة الحرة وورش العمل", "صفحات التواصل فقط", "الإذاعة المدرسية", "قاعات الرياضة"], answer: "برامج القراءة الحرة وورش العمل" },
            { id: 226, text: "يتعاون امين المركز مع المعلمين في", type: "mcq", options: ["تفعيل دور المركز في دعم المناهج", "حراسة المدرسة", "تقييم سلوك الطلاب", "غير ذلك"], answer: "تفعيل دور المركز في دعم المناهج" },
            { id: 227, text: "أي مما يلي يُعد من متطلبات ترشيح أخصائي مصادر التعلم؟", type: "mcq", options: ["مؤهل جامعي تربوي ودبلوم عالٍ في المكتبات والمعلومات", "شهادة ثانوية عامة", "شهادة في اللغة الإنجليزية", "دبلوم هندسي"], answer: "مؤهل جامعي تربوي ودبلوم عالٍ في المكتبات والمعلومات" },
            { id: 228, text: "يُشترط أن يكون التقدير الوظيفي للمرشح خلال السنتين الأخيرتين :", type: "mcq", options: ["مقبول", "جيد جدًا", "ممتاز", "لا يُشترط"], answer: "ممتاز" },
            { id: 229, text: "من الأسس النفسية التي تعتمدها مراكز مصادر التعلم :", type: "mcq", options: ["التركيز على الحفظ فقط", "تقليل استخدام الوسائل", "تكامل الخبرة التعليمية", "الاعتماد على المعلم فقط"], answer: "تكامل الخبرة التعليمية" },
            { id: 230, text: "تهدف مراكز مصادر التعلم إلى :", type: "mcq", options: ["تقليل مصادر المعرفة", "الاعتماد الكلي على المعلم", "توفير مصادر متنوعة للمعرفة", "تقديم خدمات إدارية فقط"], answer: "توفير مصادر متنوعة للمعرفة" },
            { id: 231, text: "من المهارات الأساسية المطلوبة في المرشح :", type: "mcq", options: ["توظيف تقنية المعلومات في التدريس", "سرعة الحفظ", "إجادة اللغة الصينية", "إجادة الطباعة"], answer: "توظيف تقنية المعلومات في التدريس" },
            { id: 232, text: "ظهور مراكز مصادر التعلم جاء نتيجة :", type: "mcq", options: ["نقص المعلمين", "التطورات التربوية والتكنولوجية", "ضعف المناهج", "تقليص الميزانيات"], answer: "التطورات التربوية والتكنولوجية" },
            { id: 233, text: "من الصفات الشخصية المرغوبة في الأخصائي :", type: "mcq", options: ["التهور", "الحدة في النقاش", "العزلة", "الاتزان الانفعالي"], answer: "الاتزان الانفعالي" },
            { id: 234, text: "من أهم المعايير العلمية لترشيح الأخصائي :", type: "mcq", options: ["معرفة نظم ولوائح المدرسة", "احتراف الرياضة", "إجادة الطهي", "مهارة الرسم"], answer: "معرفة نظم ولوائح المدرسة" },
            { id: 235, text: "من أهداف التخطيط السليم لأنشطة مركز مصادر التعلم:", type: "mcq", options: ["تقليل عدد الطلاب", "زيادة العبء على الأمناء", "تحقيق أهداف المركز بإشراف فعّال", "إلغاء دور المعلمين"], answer: "تحقيق أهداف المركز بإشراف فعّال" },
            { id: 236, text: "يجب أن تتوافق التقنيات المتوفرة في المركز مع:", type: "mcq", options: ["الكتب الدراسية فقط", "رغبات واحتياجات الطلاب", "المناهج القديمة", "عدد المعلمين في المدرسة"], answer: "رغبات واحتياجات الطلاب" },
            { id: 237, text: "من شروط إعداد أمناء مراكز مصادر التعلم قبل الخدمة:", type: "mcq", options: ["تدريبهم على التعامل مع الطلاب فقط", "حصولهم على برامج تدريبية في تكنولوجيا التعليم", "الاكتفاء بالشهادة الجامعية", "عدم الحاجة إلى تدريب"], answer: "حصولهم على برامج تدريبية في تكنولوجيا التعليم" },
            { id: 238, text: "يجب أن يكون أثاث مراكز مصادر التعلم:", type: "mcq", options: ["فخم وغالي الثمن", "مناسب لأعمار المعلمين فقط", "مطابق لمراكز أخرى", "مناسب لأعداد الطلاب ومرحلتهم الدراسية"], answer: "مناسب لأعداد الطلاب ومرحلتهم الدراسية" },
            { id: 239, text: "من المهارات التي يجب أن يلم بها العاملون في مركز مصادر التعلم:", type: "mcq", options: ["مهارات البيع والشراء", "مهارات القيادة العسكرية", "مهارات التقويم والإدارة والتصميم", "مهارات الطبخ"], answer: "مهارات التقويم والإدارة والتصميم" },
            // الفصل الثالث
            { id: 240, text: "من الضوابط العامه لتكليف شاغلى الوظائف التعليميه في المدارس ......", type: "mcq", options: ["المؤهل العلمي", "الخبرات العمليه", "الصفات الشخصيه", "جميع ما سبق"], answer: "جميع ما سبق" },
            { id: 241, text: "من الصفات الشخصيه الواجب توافرها بامين مركز مصادر التعلم ....", type: "mcq", options: ["القدوة الحسنه", "الاتزان الانفعالي", "القيادة والتاثير", "جميع ما سبق"], answer: "جميع ما سبق" },
            { id: 242, text: "الهيئة الإشرافية في المدرسة تضم:", type: "mcq", options: ["أمين المركز فقط", "المدير، الوكيل، أمين المركز، المعلمين", "المعلمين فقط", "المشرف التربوي فقط"], answer: "المدير، الوكيل، أمين المركز، المعلمين" },
            { id: 243, text: "من مهام المشرف التربوي:", type: "mcq", options: ["تدريس المواد الدراسية", "شراء أدوات المركز", "متابعة الأداء وتقديم الدعم", "حجز الأنشطة"], answer: "متابعة الأداء وتقديم الدعم" },
            { id: 244, text: "أهم وثيقة تنظيمية لإدارة المركز هي:", type: "mcq", options: ["دليل الطالب", "الخطة التشغيلية", "سجل المعلمين", "ميزانية المدرسة"], answer: "الخطة التشغيلية" },
            { id: 245, text: "مشاركة الطلاب في اللجنة تهدف إلى:", type: "mcq", options: ["تنمية روح التعاون والمسؤولية", "ترفيه الطلاب", "تقليل العبء على الإدارة", "إلزام من لا يرغب"], answer: "تنمية روح التعاون والمسؤولية" },
            { id: 246, text: "الإدارة التعليمية تمثل:", type: "mcq", options: ["الهيئة التنفيذية للمركز", "الجهة الممولة للمركز فقط", "السلطة الأعلى إشرافًا على المركز", "لجنة المتابعة"], answer: "السلطة الأعلى إشرافًا على المركز" },
            { id: 247, text: "من واجبات أمين المركز:", type: "mcq", options: ["التدريس", "تنظيم وحفظ المصادر", "الإشراف على الأمن", "تجهيز الفصول"], answer: "تنظيم وحفظ المصادر" },
            { id: 248, text: "المشرف التربوي يزور المركز:", type: "mcq", options: ["مرة فقط سنويًا", "لا يزوره", "عند الحاجة فقط", "بشكل دوري"], answer: "بشكل دوري" },
            { id: 249, text: "التواصل الفعال بين المركز والإدارة يتحقق من خلال:", type: "mcq", options: ["لجنة أولياء الأمور", "المشرف التربوي", "مدير المدرسة فقط", "السكرتير"], answer: "المشرف التربوي" },
            { id: 250, text: "التخطيط للمركز يتم بمشاركة:", type: "mcq", options: ["المدير فقط", "أمين المركز فقط", "مكتب التعليم فقط", "الجميع (مدير، وكيل، أمين، لجنة)"], answer: "الجميع (مدير، وكيل، أمين، لجنة)" },
            { id: 251, text: "اللجنة المدرسية تساهم في:", type: "mcq", options: ["استلام الأدوات", "التحكم في الأجهزة", "المتابعة والتطوير", "التدريس المباشر"], answer: "المتابعة والتطوير" },
            { id: 252, text: "يتم تقييم المركز بواسطة:", type: "mcq", options: ["الإدارة المدرسية فقط", "كل من الإدارة المدرسية والإدارة التعليمية", "الإدارة التعليمية فقط", "الطلاب"], answer: "كل من الإدارة المدرسية والإدارة التعليمية" },
            // الفصل الرابع
            { id: 253, text: "أي من الأنماط التالية يجمع بين مميزات المركز المركزي والمراكز المدرسية اللامركزية؟", type: "mcq", options: ["المركز المركزي", "المركز اللامركزي", "المركز المنسق", "مركز وزارة التربية والتعليم"], answer: "المركز المنسق" },
            { id: 254, text: "أي من الأنماط التالية يعتبر الأقل تكلفة؟", type: "mcq", options: ["مركز المديريات التعليمية", "المركز اللامركزي", "المركز المركزي", "المركز المنسق"], answer: "المركز المركزي" },
            { id: 255, text: "ما يميز المركز المنسق عن باقي الأنماط هو:", type: "mcq", options: ["احتواؤه على أجهزة نادرة وعالية التكلفة", "قلة عدد الموظفين", "عدم حاجته إلى فهرسة المواد", "كونه متاحا فقط للمعلمين"], answer: "احتواؤه على أجهزة نادرة وعالية التكلفة" },
            { id: 256, text: "من مهام مركز وزارة التربية والتعليم:", type: "mcq", options: ["توزيع الأجهزة على مراكز المديريات فقط", "إنتاج الوسائل التعليمية وتوفير القيادة التربوية", "تخزين الأجهزة فقط", "تدريب معلمي المدارس فقط"], answer: "إنتاج الوسائل التعليمية وتوفير القيادة التربوية" },
            { id: 257, text: "تخدم مراكز المديريات التعليمية كحلقة وصل بين:", type: "mcq", options: ["المدارس والوزارة مباشرة", "مركز الوزارة ومراكز المناطق", "مراكز المدارس ومراكز المناطق التعليمية", "الطلاب والمعلمين"], answer: "مراكز المدارس ومراكز المناطق التعليمية" },
            { id: 258, text: "عقد ورش عمل لاعضاء هيئه التدريس يعد من", type: "mcq", options: ["الانشطه التعاونيه", "الانشطه المعلوماتيه", "الانشطه القرائيه", "جميع ما سبق"], answer: "الانشطه التعاونيه" },
            { id: 259, text: "اي من الانشطه التاليه تعد من مسئوليات المعلم لدعم تعلم الطالب", type: "mcq", options: ["استخدام الحاسب الآلي في البحث", "تقرير العروض العلميه", "التلخيص وعرض الكتب", "برامج الاذاعه المدرسيه"], answer: "تقرير العروض العلميه" },
            { id: 260, text: "ما السبب الاهم لجعل التخطيط الاستراتيجي ضرورا في مركز مصادر التعلم", type: "mcq", options: ["لتوسيع مساحه المركز", "لتقليل عدد العاملين", "لتحديد عدد الكتب", "لضمان تحسين وتطوير المركز بشكل مستمر"], answer: "لضمان تحسين وتطوير المركز بشكل مستمر" },
            { id: 261, text: "لتحقيق فاعليه المركز يجب ان يتوفر", type: "mcq", options: ["موظف واحد غير متخصص", "موظف متخصص واحد على الاقل", "عدد كبير من الطلاب", "موارد ماليه كبيره فقط"], answer: "موظف متخصص واحد على الاقل" },
            { id: 262, text: "العلاقه بين التقييم المستمر وفعاليه مركز مصادر التعلم", type: "mcq", options: ["التقييم يقلل من تقنيات المركز", "التقييم يرعى قله سير العمل", "التقييم يكشف جوانب التحسين ويساعد على التطوير", "التقييم لا علاقه له بفعاليه المركز"], answer: "التقييم يكشف جوانب التحسين ويساعد على التطوير" },
            { id: 263, text: "عمل المسابقات والمنافسات التي تبث روح التنافس بين معلمي الماده في استخدام مراكز مصادر التعلم يعتبر", type: "mcq", options: ["دور المعلم", "دور قائد المدرسه", "دور مشرف الماده الدراسيه", "دور الطالب"], answer: "دور مشرف الماده الدراسيه" },
            { id: 264, text: "مساعده امین مركز مصادر التعلم في تنظيم الاداره يعتبر", type: "mcq", options: ["دور اداره التعليم", "دور قسم المصادر التعلم", "دور مشرف مصادر التعلم", "دور الطالب"], answer: "دور الطالب" },
            { id: 265, text: "تفعيل استراتيجيه التعلم الذاتي للطالب داخل مركز مصادر التعلم يعتبر", type: "mcq", options: ["دور المعلم", "دور مشرف الماده الدراسيه", "دور قسم مصادر التعلم", "دور اداره التعليم"], answer: "دور المعلم" },
            { id: 266, text: "اصدار نشرات تربويه وتقنيه عن مصادر التعلم وتوزيعها عن المدارس يعتبر", type: "mcq", options: ["دور قسم اداره التجهيزات المدرسيه", "دور قسم مصادر التعلم", "دور اداره التعليم", "دور مشرف مصادر التعلم"], answer: "دور قسم مصادر التعلم" },
            { id: 267, text: "ما هي أولى خطوات إجراءات التوظيف؟", type: "mcq", options: ["استقبال طالبي العمل", "عقد اختبارات العمل", "إجراء المقابلات الشخصية", "الإعلان عن الوظيفة"], answer: "الإعلان عن الوظيفة" },
            { id: 268, text: "في أي مرحلة يتم استبعاد المتقدمين الذين يبدون ضعفًا في مهاراتهم الشخصية؟", type: "mcq", options: ["المقابلة الشخصية", "استقبال الطلبات", "الإعلان عن الوظيفة", "الكشف الطبي"], answer: "المقابلة الشخصية" },
            { id: 269, text: "ما الذي يلي اجتياز المرشح للاختبارات والمقابلة الشخصية؟", type: "mcq", options: ["الإعلان عن الوظيفة مرة أخرى", "تعبئة طلب الاستخدام", "الكشف الطبي", "إعادة التقييم"], answer: "الكشف الطبي" },
            { id: 270, text: "أي مما يلي يُعد من معوقات الاتصال الثقافية والاجتماعية؟", type: "mcq", options: ["اختلاف اللغات واللهجات", "عدم توفر قنوات مناسبة", "ضعف الكتابة لدى المرسل", "اختلاف ثقافي بين الأطراف"], answer: "اختلاف ثقافي بين الأطراف" },
            { id: 271, text: "من الخطوات الصحيحة لاتخاذ القرار:", type: "mcq", options: ["وضع القرار مباشرة", "تحليل المشكلة قبل تحديدها", "تنفيذ القرار ثم مراجعة البدائل", "تحديد المشكلة أولاً"], answer: "تحديد المشكلة أولاً" },
            { id: 272, text: "تحديد ميزانية ماليه دوريه وكافيه لمركز مصادر التعلم تعتبر من تطوير المجال", type: "mcq", options: ["المادي", "الفني", "الاداري", "الشخصي"], answer: "المادي" },
            { id: 273, text: "إلمام امين مراكز مصادر التعلم بنظم التصنيف والفهرسة المكتبيه من تطوير المجال", type: "mcq", options: ["الفني", "البشري", "التجاري", "المادي"], answer: "البشري" },
            { id: 274, text: "توفير الاجهزه وخدمه صيانتها في حين طلبها من قبل الاداره المعنيه من تطوير المجال", type: "mcq", options: ["الاداري", "الشخصي", "الفني", "العلمي"], answer: "الاداري" },
            { id: 275, text: "من التطلعات المستقبلية لمراكز مصادر التعلم ماعدا ..", type: "mcq", options: ["إنشاء مراكز لمصادر التعلم في مناطق المملكه لأغراض تدريب المعلمين والمشرفين التربويين", "إشراك العاملين في عمليه صنع القرار مما يساعد ع زياده فهمهم للقرار ودعمهم له", "توفير الكوادر البشرية اللازمه والمدربه", "توفير الحجرات اللازمه لفعاليات مراكز مصادر التعلم"], answer: "إشراك العاملين في عمليه صنع القرار مما يساعد ع زياده فهمهم للقرار ودعمهم له" }
        ];
        
        // --- DOM Elements ---
        const themeCheckbox = document.getElementById('theme-checkbox');
        const welcomeScreen = document.getElementById('welcomeScreen');
        const numQuestionsSelect = document.getElementById('numQuestionsSelect');
        const difficultySelect = document.getElementById('difficultySelect');
        const examDurationInfo = document.getElementById('exam-duration-info');
        const resumePrompt = document.getElementById('resumePrompt');
        const startButton = document.getElementById('startButton');
        const startNoTimerButton = document.getElementById('startNoTimerButton');
        const startRandomButton = document.getElementById('startRandomButton');
        const lastExamButton = document.getElementById('lastExamButton');
        const examScreen = document.getElementById('examScreen');
        const questionCounter = document.getElementById('question-counter');
        const timerEl = document.getElementById('timer');
        const pauseExamButton = document.getElementById('pauseExamButton');
        const progressBar = document.getElementById('progressBar');
        const pauseOverlay = document.getElementById('pauseOverlay');
        const resumeFromOverlayButton = document.getElementById('resumeFromOverlayButton');
        const flagQuestionButton = document.getElementById('flagQuestionButton');
        const increaseFontButton = document.getElementById('increaseFontButton');
        const decreaseFontButton = document.getElementById('decreaseFontButton');
        const questionTextEl = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const prevButton = document.getElementById('prevButton');
        const endExamButton = document.getElementById('endExamButton');
        const openQuestionNavButton = document.getElementById('openQuestionNavButton');
        const nextButton = document.getElementById('nextButton');
        const resultsScreen = document.getElementById('resultsScreen');
        const feedbackTextEl = document.getElementById('feedbackText');
        const restartButton = document.getElementById('restartButton');
        const retryIncorrectButton = document.getElementById('retryIncorrectButton');
        const printResultsButton = document.getElementById('printResultsButton');
        const statusFilter = document.getElementById('statusFilter');
        const reviewContainer = document.getElementById('reviewContainer');
        const questionNavModal = document.getElementById('questionNavModal');
        const qNavGrid = document.getElementById('qNavGrid');
        const confirmEndModal = document.getElementById('confirmEndModal');
        const confirmEndBtn = document.getElementById('confirmEndBtn');

        // --- State Variables ---
        let sessionQuestions = [];
        let userAnswers = [];
        let currentQuestionIndex = 0;
        let examTimer;
        let timeLeft;
        let isPaused = false;
        let isUntimed = false;
        let examStartTime;
        let currentAttemptNumber = 0;

        // --- Core Functions ---
        
        const showScreen = (screenId) => {
            document.querySelectorAll('.container.screen').forEach(s => s.classList.remove('active'));
            const screen = document.getElementById(screenId);
            if (screen) screen.classList.add('active');
        };
        
        const updateDurationDisplay = () => {
            const numVal = numQuestionsSelect.value;
            const numQuestions = numVal === 'all' ? getFilteredQuestions().length : parseInt(numVal, 10);
            const durationSeconds = numQuestions * EXAM_DATA.baseTimePerQuestion;
            const durationMinutes = Math.max(EXAM_DATA.minExamTime, Math.ceil(durationSeconds / 60));
            examDurationInfo.innerHTML = `المدة التقديرية للاختبار: <strong>${durationMinutes} دقيقة</strong>.`;
        };

        const getFilteredQuestions = () => {
            // Difficulty filter is removed for now as the new questions don't have this field.
            // You can add it back if you add a 'difficulty' key to the new questions.
            return [...QUESTIONS_BANK];
        };

        const startExam = (options) => {
            const { isRandom, isUntimedMode, isResuming, savedState } = options;
            isUntimed = isUntimedMode;
            isPaused = false;
            
            if (isResuming && savedState) {
                sessionQuestions = savedState.sessionQuestions;
                userAnswers = savedState.userAnswers;
                currentQuestionIndex = savedState.currentQuestionIndex;
                examStartTime = savedState.examStartTime ? new Date(savedState.examStartTime) : null;
                timeLeft = savedState.timeLeft;
                currentAttemptNumber = savedState.currentAttemptNumber || 1;
            } else {
                let availableQuestions = getFilteredQuestions();
                const numVal = numQuestionsSelect.value;
                let numToTake = numVal === 'all' ? availableQuestions.length : parseInt(numVal, 10);
                
                sessionQuestions = isRandom ? shuffleArray(availableQuestions).slice(0, numToTake) : availableQuestions.slice(0, numToTake);
                
                userAnswers = sessionQuestions.map(q => ({ qId: q.id, userAnswer: null, isFlagged: false }));
                currentQuestionIndex = 0;
                examStartTime = new Date();

                currentAttemptNumber = (parseInt(localStorage.getItem(EXAM_DATA.storageKeys.attemptCounter)) || 0) + 1;
                localStorage.setItem(EXAM_DATA.storageKeys.attemptCounter, currentAttemptNumber);
                
                if (!isUntimed) {
                    timeLeft = sessionQuestions.length * EXAM_DATA.baseTimePerQuestion;
                } else {
                    timeLeft = 0;
                }
            }
            
            showScreen('examScreen');
            updateUIForQuestion();
            if (!isUntimed) startTimer();
            else updateTimerDisplay();
        };

        const updateUIForQuestion = () => {
            if (currentQuestionIndex >= sessionQuestions.length) {
                finishExam();
                return;
            }

            const q = sessionQuestions[currentQuestionIndex];
            questionCounter.textContent = `السؤال ${currentQuestionIndex + 1} من ${sessionQuestions.length}`;
            questionTextEl.textContent = q.text;
            progressBar.style.width = `${((currentQuestionIndex + 1) / sessionQuestions.length) * 100}%`;
            
            optionsContainer.innerHTML = '';
            const questionAnswerData = userAnswers.find(ua => ua.qId === q.id);
            const options = (q.type === 'tf') ? ['صحيح', 'خطأ'] : q.options;
            
            options.forEach(optionText => {
                const label = document.createElement('label');
                const input = document.createElement('input');
                input.type = 'radio';
                input.name = `q${q.id}`;
                input.value = optionText;
                
                const answerValue = (q.type === 'tf') ? (optionText === 'صحيح') : optionText;
                if (questionAnswerData && questionAnswerData.userAnswer === answerValue) {
                    input.checked = true;
                    label.classList.add('selected');
                }
                
                input.addEventListener('change', () => {
                    handleAnswer(q.id, answerValue);
                    document.querySelectorAll('.options-container label').forEach(l => l.classList.remove('selected'));
                    label.classList.add('selected');
                });
                
                label.appendChild(input);
                label.appendChild(document.createTextNode(optionText));
                optionsContainer.appendChild(label);
            });
            
            prevButton.disabled = currentQuestionIndex === 0;
            nextButton.innerHTML = (currentQuestionIndex === sessionQuestions.length - 1) ? 'إنهاء الاختبار <i class="fas fa-flag-checkered"></i>' : 'التالي <i class="fas fa-chevron-left"></i>';
            
            const flagBtn = document.getElementById('flagQuestionButton');
            if (flagBtn) flagBtn.classList.toggle('active', questionAnswerData && questionAnswerData.isFlagged);
        };
        
        const handleAnswer = (qId, answer) => {
            const answerIndex = userAnswers.findIndex(ua => ua.qId === qId);
            if (answerIndex > -1) userAnswers[answerIndex].userAnswer = answer;
            saveState();
        };

        const goToNextQuestion = () => {
            if (currentQuestionIndex < sessionQuestions.length - 1) {
                currentQuestionIndex++;
                updateUIForQuestion();
            } else {
                finishExam();
            }
            saveState();
        };

        const goToPrevQuestion = () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                updateUIForQuestion();
            }
            saveState();
        };

        const toggleFlag = () => {
            const qId = sessionQuestions[currentQuestionIndex].id;
            const answerData = userAnswers.find(ua => ua.qId === qId);
            if(answerData){
                answerData.isFlagged = !answerData.isFlagged;
                flagQuestionButton.classList.toggle('active', answerData.isFlagged);
                saveState();
            }
        };

        const startTimer = () => {
            clearInterval(examTimer);
            updateTimerDisplay();
            examTimer = setInterval(() => {
                if (!isPaused) {
                    timeLeft--;
                    updateTimerDisplay();
                    if (timeLeft <= 0) {
                        clearInterval(examTimer);
                        finishExam();
                    }
                }
            }, 1000);
        };

        const updateTimerDisplay = () => {
            if (isUntimed) {
                timerEl.textContent = 'غير محدود';
                timerEl.classList.add('timer-untimed');
                return;
            }
            timerEl.classList.remove('timer-untimed');
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerEl.textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
            timerEl.classList.toggle('timer-warning', timeLeft <= 60 && timeLeft > 0);
        };

        const togglePause = () => {
            isPaused = !isPaused;
            pauseOverlay.style.display = isPaused ? 'flex' : 'none';
            pauseExamButton.innerHTML = isPaused ? '<i class="fas fa-play"></i>' : '<i class="fas fa-pause"></i>';
        };

        const finishExam = () => {
            clearInterval(examTimer);
            showScreen('resultsScreen');
            
            let score = 0;
            let answeredCount = 0;
            userAnswers.forEach(ua => {
                const question = sessionQuestions.find(q => q.id === ua.qId);
                if (ua.userAnswer !== null) answeredCount++;
                if (question && ua.userAnswer !== null) {
                    const correctAnswer = question.type === 'tf' ? question.answer : question.answer;
                    if (ua.userAnswer === correctAnswer) {
                        score++;
                    }
                }
            });
            
            const totalQuestions = sessionQuestions.length;
            const percentage = totalQuestions > 0 ? (score / totalQuestions) * 100 : 0;
            
            // --- NEW: Populate the new results interface ---
            const scoreMainText = document.getElementById('scoreMainText');
            const scorePercentageText = document.getElementById('scorePercentageText');
            const correctAnswersText = document.getElementById('correctAnswersText');
            const incorrectAnswersText = document.getElementById('incorrectAnswersText');
            const donutFg = document.querySelector('.score-donut-fg');

            if (scoreMainText) scoreMainText.textContent = `${score}/${totalQuestions}`;
            if (scorePercentageText) scorePercentageText.textContent = `${percentage.toFixed(1)}%`;
            if (correctAnswersText) correctAnswersText.textContent = score;
            if (incorrectAnswersText) incorrectAnswersText.textContent = answeredCount - score;
            
            // Update donut chart
            if (donutFg) {
                const circumference = donutFg.r.baseVal.value * 2 * Math.PI;
                const offset = circumference - (percentage / 100) * circumference;
                donutFg.style.strokeDasharray = circumference;
                
                setTimeout(() => {
                    donutFg.style.strokeDashoffset = offset;
                }, 100);

                if (percentage >= 80) donutFg.style.stroke = 'var(--success-color)';
                else if (percentage >= 40) donutFg.style.stroke = 'var(--warning-color)';
                else donutFg.style.stroke = 'var(--danger-color)';
            }
            
            // Feedback and Time
            let feedbackMsg = '';
            let feedbackBgColor = '';
            if (percentage >= 80) {
                feedbackMsg = "أداء ممتاز! أحسنت.";
                feedbackBgColor = 'rgba(40, 167, 69, 0.1)';
            } else if (percentage >= 60) {
                feedbackMsg = "أداء جيد جدًا، استمر في التقدم.";
                feedbackBgColor = 'rgba(0, 198, 255, 0.1)';
            } else if (percentage >= 40) {
                feedbackMsg = "نتيجة مقبولة، يمكنك تحقيق أفضل من ذلك بالمراجعة.";
                feedbackBgColor = 'rgba(255, 193, 7, 0.1)';
            } else {
                feedbackMsg = "تحتاج إلى المزيد من المراجعة والتركيز. بالتوفيق في المرة القادمة!";
                feedbackBgColor = 'rgba(220, 53, 69, 0.1)';
            }
            feedbackTextEl.textContent = feedbackMsg;
            feedbackTextEl.style.backgroundColor = feedbackBgColor;
            
            const totalDuration = sessionQuestions.length * EXAM_DATA.baseTimePerQuestion;
            const timeSpent = isUntimed ? 0 : totalDuration - (timeLeft > 0 ? timeLeft : 0);
            const minutesSpent = Math.floor(timeSpent / 60);
            const secondsSpent = timeSpent % 60;
            const timeText = isUntimed ? 'غير محدد' : `${minutesSpent} دقيقة و ${secondsSpent} ثانية`;
            document.getElementById('timeTakenText').textContent = timeText;
            
            document.getElementById('attemptNumberText').textContent = currentAttemptNumber;

            // Handle incorrect questions button
            const incorrectQuestions = userAnswers.filter(ua => {
                const question = sessionQuestions.find(q => q.id === ua.qId);
                return question && ua.userAnswer !== null && ua.userAnswer !== (question.type === 'tf' ? question.answer : question.answer);
            });
            retryIncorrectButton.style.display = incorrectQuestions.length > 0 ? 'inline-flex' : 'none';
            
            renderReview();
            saveLastResults({ 
                score, 
                total: totalQuestions, 
                percentage, 
                timeTaken: timeText, 
                userAnswers, 
                sessionQuestions, 
                attemptNumber: currentAttemptNumber 
            });
            localStorage.removeItem(EXAM_DATA.storageKeys.inProgress);
        };

        
        const renderReview = () => {
            reviewContainer.innerHTML = '';
            const filterValue = statusFilter.value;

            let questionsToReview = userAnswers.filter(ua => {
                if (filterValue === 'all') return true;
                if (filterValue === 'flagged') return ua.isFlagged;
                
                const question = sessionQuestions.find(q => q.id === ua.qId);
                if (!question) return false;
                const correctAnswer = question.type === 'tf' ? question.answer : question.answer;
                
                if (filterValue === 'correct') return ua.userAnswer !== null && ua.userAnswer === correctAnswer;
                if (filterValue === 'incorrect') return ua.userAnswer !== null && ua.userAnswer !== correctAnswer;
                if (filterValue === 'unanswered') return ua.userAnswer === null;
                return false;
            });
            
            questionsToReview.forEach(ua => {
                const q = sessionQuestions.find(qItem => qItem.id === ua.qId);
                if (!q) return;
                
                const item = document.createElement('div');
                item.classList.add('review-item');
                const correctAnswer = q.type === 'tf' ? q.answer : q.answer;
                const isCorrect = ua.userAnswer === correctAnswer;
                
                if (ua.userAnswer === null) item.classList.add('review-item-unanswered');
                else if (isCorrect) item.classList.add('review-item-correct');
                else item.classList.add('review-item-incorrect');
                
                let userAnswerText = ua.userAnswer === null ? 'لم تتم الإجابة' : (q.type === 'tf' ? (ua.userAnswer ? 'صحيح' : 'خطأ') : ua.userAnswer);
                let correctAnswerText = q.type === 'tf' ? (correctAnswer ? 'صحيح' : 'خطأ') : correctAnswer;

                item.innerHTML = `
                    <p><strong>${q.text}</strong></p>
                    <p>إجابتك: ${userAnswerText}</p>
                    ${!isCorrect && ua.userAnswer !== null ? `<p>الإجابة الصحيحة: ${correctAnswerText}</p>` : ''}
                    ${q.explanation ? `<p class="explanation-text"><strong>توضيح:</strong> ${q.explanation}</p>` : ''}
                `;
                reviewContainer.appendChild(item);
            });
        };

        const retryIncorrect = () => {
            // 1. Filter to get only the IDs of incorrectly answered questions from the last session.
            const incorrectQuestionIds = userAnswers
                .filter(ua => {
                    const question = sessionQuestions.find(q => q.id === ua.qId);
                    if (!question || ua.userAnswer === null) return false;
                    const correctAnswer = question.type === 'tf' ? question.answer : question.answer;
                    return ua.userAnswer !== correctAnswer;
                })
                .map(ua => ua.qId);

            if (incorrectQuestionIds.length === 0) {
                alert("لا توجد أسئلة خاطئة لإعادتها!");
                return;
            }

            // 2. Create a new session question list from the main bank using the incorrect IDs.
            //    Filter out any potential undefined values if a question was removed from the bank.
            const incorrectQuestions = incorrectQuestionIds
                .map(id => QUESTIONS_BANK.find(q => q.id === id))
                .filter(Boolean);

            // 3. Reset the exam state for the new "retry" session.
            isUntimed = false;
            isPaused = false;
            sessionQuestions = shuffleArray(incorrectQuestions); // Shuffle the incorrect questions
            userAnswers = sessionQuestions.map(q => ({ qId: q.id, userAnswer: null, isFlagged: false }));
            currentQuestionIndex = 0;
            examStartTime = new Date();
            
            // Do not increment the main attempt counter for a retry session.
            // We keep the `currentAttemptNumber` as is, or you could add a special state.
            
            // 4. Calculate a new timer based on the number of incorrect questions.
            timeLeft = sessionQuestions.length * EXAM_DATA.baseTimePerQuestion;

            // 5. Start the new exam session.
            showScreen('examScreen');
            updateUIForQuestion();
            startTimer();
        };

        const saveState = () => {
            if (examScreen.classList.contains('active')) {
                const state = {
                    sessionQuestions, userAnswers, currentQuestionIndex, timeLeft,
                    isUntimed, examStartTime: examStartTime ? examStartTime.toISOString() : null,
                    currentAttemptNumber
                };
                localStorage.setItem(EXAM_DATA.storageKeys.inProgress, JSON.stringify(state));
            }
        };

        const saveLastResults = (results) => {
            localStorage.setItem(EXAM_DATA.storageKeys.lastResults, JSON.stringify(results));
            lastExamButton.style.display = 'inline-flex';
        };
        
        // --- Modal & UI Helpers ---
        const showModal = (modalId) => {
            const modal = document.getElementById(modalId);
            if (modal) modal.classList.add('active');
        };

        const hideModal = (modalId) => {
            const modal = document.getElementById(modalId);
            if (modal) modal.classList.remove('active');
        };

        const openNavModal = () => {
            qNavGrid.innerHTML = '';
            sessionQuestions.forEach((q, index) => {
                const item = document.createElement('div');
                item.className = 'q-nav-item';
                item.textContent = index + 1;
                const ua = userAnswers.find(a => a.qId === q.id);
                if (ua) {
                    if (ua.userAnswer !== null) item.classList.add('answered');
                    if (ua.isFlagged) item.classList.add('flagged');
                }
                if (index === currentQuestionIndex) item.classList.add('current');
                
                item.onclick = () => {
                    currentQuestionIndex = index;
                    updateUIForQuestion();
                    hideModal('questionNavModal');
                };
                qNavGrid.appendChild(item);
            });
            showModal('questionNavModal');
        };

        const changeFontSize = (step) => {
            let currentMultiplier = parseFloat(document.documentElement.style.getPropertyValue('--font-size-multiplier') || 1);
            currentMultiplier += step;
            if (currentMultiplier >= 0.8 && currentMultiplier <= 1.5) {
                document.documentElement.style.setProperty('--font-size-multiplier', currentMultiplier);
            }
        };
        
        // --- Event Listeners ---
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem(EXAM_DATA.storageKeys.theme) || 'dark-theme';
            document.body.className = savedTheme;
            themeCheckbox.checked = savedTheme === 'light-theme';

            const marathonOption = document.querySelector('#numQuestionsSelect option[value="all"]');
            if (marathonOption) marathonOption.textContent = `كل الأسئلة (ماراثون - ${QUESTIONS_BANK.length} سؤالاً)`;
            
            // Difficulty select is removed for now, hide its container
            const difficultyConfigItem = document.getElementById('difficultySelect').parentElement;
            if (difficultyConfigItem) difficultyConfigItem.style.display = 'none';


            numQuestionsSelect.addEventListener('change', updateDurationDisplay);
            updateDurationDisplay();

            if (localStorage.getItem(EXAM_DATA.storageKeys.inProgress)) {
                resumePrompt.style.display = 'block';
            }
            if (localStorage.getItem(EXAM_DATA.storageKeys.lastResults)) {
                lastExamButton.style.display = 'inline-flex';
            }
        });

        themeCheckbox.addEventListener('change', (e) => {
            const theme = e.target.checked ? 'light-theme' : 'dark-theme';
            document.body.className = theme;
            localStorage.setItem(EXAM_DATA.storageKeys.theme, theme);
        });

        startButton.addEventListener('click', () => startExam({ isRandom: false, isUntimedMode: false }));
        startNoTimerButton.addEventListener('click', () => startExam({ isRandom: false, isUntimedMode: true }));
        startRandomButton.addEventListener('click', () => startExam({ isRandom: true, isUntimedMode: false }));
        
        resumeButton.addEventListener('click', () => {
            const savedState = JSON.parse(localStorage.getItem(EXAM_DATA.storageKeys.inProgress));
            startExam({ isResuming: true, savedState });
        });
        discardButton.addEventListener('click', () => {
            localStorage.removeItem(EXAM_DATA.storageKeys.inProgress);
            resumePrompt.style.display = 'none';
        });
        lastExamButton.addEventListener('click', () => {
            const results = JSON.parse(localStorage.getItem(EXAM_DATA.storageKeys.lastResults));
            if(results) {
                sessionQuestions = results.sessionQuestions;
                userAnswers = results.userAnswers;
                currentAttemptNumber = results.attemptNumber;
                isUntimed = (results.timeTaken === 'غير محدد');
                timeLeft = 0; 
                finishExam(); 
            }
        });

        nextButton.addEventListener('click', goToNextQuestion);
        prevButton.addEventListener('click', goToPrevQuestion);
        flagQuestionButton.addEventListener('click', toggleFlag);
        pauseExamButton.addEventListener('click', togglePause);
        resumeFromOverlayButton.addEventListener('click', togglePause);
        increaseFontButton.addEventListener('click', () => changeFontSize(0.1));
        decreaseFontButton.addEventListener('click', () => changeFontSize(-0.1));
        
        restartButton.addEventListener('click', () => {
            showScreen('welcomeScreen');
            resumePrompt.style.display = localStorage.getItem(EXAM_DATA.storageKeys.inProgress) ? 'block' : 'none';
        });
        retryIncorrectButton.addEventListener('click', retryIncorrect);
        printResultsButton.addEventListener('click', () => window.print());
        statusFilter.addEventListener('change', renderReview);
        
        endExamButton.addEventListener('click', () => showModal('confirmEndModal'));
        confirmEndBtn.addEventListener('click', () => {
            finishExam();
            hideModal('confirmEndModal');
        });

        openQuestionNavButton.addEventListener('click', openNavModal);
        
        document.querySelectorAll('[data-modal-id]').forEach(element => {
            element.addEventListener('click', () => {
                const modalId = element.getAttribute('data-modal-id');
                hideModal(modalId);
            });
        });

        document.querySelectorAll('.modal-overlay').forEach(overlay => {
            overlay.addEventListener('click', (e) => {
                if (e.target === overlay) {
                    hideModal(overlay.id);
                }
            });
        });

        window.addEventListener('beforeunload', saveState);
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

    </script>
</body>
</html>
