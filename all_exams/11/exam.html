<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منصة الاختبارات الإلكترونية</title>
    <!-- Google Fonts: Cairo -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* === Cosmic Glow Theme === */
        :root {
            --primary-glow: #00c6ff;
            --secondary-glow: #9f00ff;
            --background-start: #0f0c29;
            --background-mid: #302b63;
            --background-end: #24243e;
            --text-color: #f0f0f0;
            --glass-bg: rgba(36, 36, 62, 0.4);
            --glass-border: rgba(255, 255, 255, 0.2);
            --success-glow: #00ff87;
            --danger-glow: #ff4d79;
            --border-radius: 16px;
        }

        @keyframes background-pan {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        body {
            font-family: 'Cairo', sans-serif;
            color: var(--text-color);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(60deg, var(--background-start), var(--background-mid), var(--background-end));
            background-size: 300% 300%;
            animation: background-pan 15s ease infinite;
            padding: 20px;
            box-sizing: border-box;
        }

        .container {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: var(--border-radius);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            width: 95%;
            max-width: 800px;
            text-align: center;
            border: 1px solid var(--glass-border);
            animation: fadeIn 0.6s ease-out forwards;
        }

        h1, h2, h3 {
            color: var(--text-color);
            text-shadow: 0 0 10px rgba(0, 198, 255, 0.5);
        }
        h1 { font-size: 2.5rem; }
        
        /* Welcome Screen */
        #welcome-screen p {
            font-size: 1.2rem;
            color: #dcdcdc;
            line-height: 1.6;
        }
        
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        label {
            margin-bottom: 10px;
            font-weight: 600;
            display: block;
            text-align: right;
            color: var(--primary-glow);
        }
        
        select, .btn {
            width: 100%;
            padding: 14px;
            border-radius: var(--border-radius);
            font-family: 'Cairo', sans-serif;
            font-size: 1.1rem;
            box-sizing: border-box;
            background: rgba(0,0,0,0.2);
            color: var(--text-color);
            border: 1px solid var(--glass-border);
        }
        select option { background-color: #302b63; }

        .btn {
            background: linear-gradient(45deg, var(--secondary-glow), var(--primary-glow));
            color: #fff;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 700;
            box-shadow: 0 0 15px rgba(0, 198, 255, 0.4), 0 0 25px rgba(159, 0, 255, 0.4);
            position: relative;
            overflow: hidden;
        }
        .btn:hover:not([disabled]) {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 0 25px rgba(0, 198, 255, 0.7), 0 0 40px rgba(159, 0, 255, 0.7);
        }
        .btn:disabled {
            cursor: not-allowed;
            opacity: 0.5;
            background: var(--glass-bg);
            box-shadow: none;
            transform: none;
        }
        
        .btn.btn-danger {
            background: linear-gradient(45deg, #c31432, var(--danger-glow));
            box-shadow: 0 0 15px rgba(255, 77, 121, 0.5);
        }
        .btn.btn-danger:hover:not([disabled]) {
            box-shadow: 0 0 25px rgba(255, 77, 121, 0.8);
        }
        
        /* Exam Screen */
        #exam-screen { display: none; }

        .exam-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            font-size: 1.1rem;
        }
        
        #question-counter {
            background: var(--glass-bg);
            padding: 8px 20px;
            border-radius: 50px;
            font-weight: 700;
            border: 1px solid var(--glass-border);
        }

        .timer-container {
            width: 100%;
            background-color: rgba(0,0,0,0.3);
            border-radius: 50px;
            overflow: hidden;
            height: 14px;
            margin-bottom: 35px;
            border: 1px solid var(--glass-border);
        }

        #timer-bar {
            height: 100%;
            width: 100%;
            border-radius: 50px;
            background: linear-gradient(90deg, var(--secondary-glow), var(--primary-glow));
            transition: width 1s linear;
            box-shadow: 0 0 10px var(--primary-glow);
        }

        #question-text {
            font-size: 1.8rem;
            margin-bottom: 30px;
            font-weight: 600;
            line-height: 1.6;
            min-height: 100px;
        }

        .answers-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .answer-btn {
            background-color: var(--glass-bg);
            color: var(--text-color);
            border: 2px solid var(--glass-border);
            padding: 18px;
            text-align: right;
            border-radius: var(--border-radius);
            transition: all 0.2s ease;
            font-size: 1.1rem;
            cursor: pointer;
        }
        .answer-btn:hover:not([disabled]) {
            border-color: var(--primary-glow);
            background-color: rgba(0, 198, 255, 0.1);
        }
        .answer-btn.selected {
            background-color: var(--primary-glow);
            color: #111;
            border-color: var(--primary-glow);
            box-shadow: 0 0 15px var(--primary-glow);
        }
        .answer-btn:disabled { cursor: not-allowed; opacity: 0.6; }
        
        .navigation-btns {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: center;
            align-items: center;
        }
        .navigation-btns .btn {
            width: auto;
            padding: 14px 30px;
            flex-grow: 1;
        }
        #end-exam-btn {
            flex-grow: 0.5;
        }
        
        /* Results Screen */
        #results-screen { display: none; }
        
        .result-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .result-item {
            background: var(--glass-bg);
            padding: 20px;
            border-radius: var(--border-radius);
            border: 1px solid var(--glass-border);
            transition: all 0.3s ease;
        }
        .result-item:hover {
            transform: translateY(-5px);
            background: rgba(0,0,0,0.3);
        }
        .result-item i {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: block;
            background: -webkit-linear-gradient(45deg, var(--secondary-glow), var(--primary-glow));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .result-item p { margin: 0; font-weight: 600; color: #dcdcdc; }
        .result-item span {
            display: block;
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-color);
            margin-top: 5px;
        }
        
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: var(--glass-bg);
            border-radius: var(--border-radius);
            overflow: hidden;
        }
        
        .results-table th, .results-table td {
            border-bottom: 1px solid var(--glass-border);
            padding: 16px;
            text-align: right;
        }
        
        .results-table th {
            background: rgba(0,0,0,0.3);
            color: var(--primary-glow);
            font-size: 1.1rem;
        }
        .results-table td {
            color: #dcdcdc;
        }
        .results-table tr:last-child td {
            border-bottom: none;
        }
        
        .correct-icon { color: var(--success-glow); }
        .wrong-icon { color: var(--danger-glow); }

        /* === Custom Modal Styles === */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 12, 41, 0.7);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            display: none; /* Hidden by default */
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeIn 0.3s ease-out;
        }

        .modal-box {
            background: var(--glass-bg);
            padding: 30px 40px;
            border-radius: var(--border-radius);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            width: 90%;
            max-width: 500px;
            text-align: center;
            border: 1px solid var(--glass-border);
            animation: fadeIn 0.4s ease-out forwards;
            transform: scale(0.95);
        }

        .modal-box p {
            font-size: 1.1rem;
            color: var(--text-color);
            line-height: 1.7;
            margin-bottom: 30px;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .modal-buttons .btn {
            width: auto;
            padding: 12px 25px;
            flex-grow: 1;
        }
        
        /* NEW: Start Confirmation Modal Title */
        #start-confirm-modal-overlay h2 {
            color: var(--primary-glow);
            text-shadow: 0 0 8px var(--primary-glow);
        }

        /* End Confirmation Modal Title */
        #confirm-end-modal-overlay h2 {
            margin-top: 0;
            color: var(--danger-glow);
            text-shadow: 0 0 8px var(--danger-glow);
        }

        #cancel-end-btn, #cancel-start-btn {
            background: var(--glass-bg);
            box-shadow: none;
        }

        #cancel-end-btn:hover, #cancel-start-btn:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
            box-shadow: none;
        }
        
        @media (max-width: 768px) {
            .settings-grid {
                 grid-template-columns: 1fr; /* Stack settings on smaller screens */
            }
        }

        @media (max-width: 600px) {
            .container { padding: 25px; }
            h1 { font-size: 2rem; }
            #question-text { font-size: 1.5rem; }
            .answers-grid { grid-template-columns: 1fr; }
            .navigation-btns { flex-direction: column; }
            .navigation-btns .btn { width: 100%; }
            .modal-buttons { flex-direction: column; }
        }
    </style>
</head>
<body>

    <div class="container">
        <!-- Welcome Screen -->
        <div id="welcome-screen">
            <h1><i class="fas fa-graduation-cap"></i> منصة الاختبارات الإلكترونية</h1>
            <p>أهلاً بك. الرجاء اختيار إعدادات الاختبار للبدء.</p>
            
            <div class="settings-grid">
                <div class="setting-item">
                    <label for="question-count"><i class="fas fa-list-ol"></i> عدد الأسئلة:</label>
                    <select id="question-count">
                        <option value="10">10 أسئلة</option>
                        <option value="20">20 سؤال</option>
                        <option value="50">50 سؤال</option>
                        <option value="100">100 سؤال</option>
                        <option value="all">كل الأسئلة (150)</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label for="random-q-btn"><i class="fas fa-dice"></i> أو اختر عدد أسئلة عشوائي:</label>
                    <button class="btn" id="random-q-btn" style="background: rgba(0,0,0,0.3);">توليد عدد عشوائي</button>
                </div>
                <div class="setting-item">
                    <label for="no-timer-checkbox"><i class="fas fa-infinity"></i> وضع الاختبار:</label>
                    <div style="display: flex; align-items: center; justify-content: center; padding: 14px; background: rgba(0,0,0,0.2); border: 1px solid var(--glass-border); border-radius: var(--border-radius);">
                        <input type="checkbox" id="no-timer-checkbox" style="width: 18px; height: 18px; margin-left: 10px;">
                        <label for="no-timer-checkbox" style="margin: 0; color: var(--text-color);">اختبار بدون مؤقت</label>
                    </div>
                </div>
            </div>

            <button class="btn" id="start-btn"><i class="fas fa-play-circle"></i> ابدأ الاختبار</button>
            <button class="btn" id="last-result-btn" style="margin-top: 15px; background: rgba(0,0,0,0.3);"><i class="fas fa-book-journal-whills"></i> سجل الاختبارات السابقة</button>
        </div>

        <!-- Exam Screen -->
        <div id="exam-screen">
            <div class="exam-header">
                <div id="question-counter"></div>
                <div id="timer-display" style="font-weight: 600;">الوقت المتبقي للاختبار: <span>--:--</span></div>
            </div>
            <div class="timer-container">
                <div id="timer-bar"></div>
            </div>
            <div id="question-text"></div>
            <div id="answers-grid" class="answers-grid"></div>
            <div class="navigation-btns">
                 <button class="btn" id="prev-btn"><i class="fas fa-angle-double-right"></i> السؤال السابق</button>
                 <button class="btn" id="next-btn">السؤال التالي <i class="fas fa-angle-double-left"></i></button>
                 <button class="btn btn-danger" id="end-exam-btn"><i class="fas fa-stop-circle"></i> إنهاء</button>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results-screen">
            <h2><i class="fas fa-flag-checkered"></i> تقرير النتيجة</h2>
            <div class="result-summary">
                 <div class="result-item">
                    <i class="fas fa-star"></i>
                    <p>النتيجة النهائية</p>
                    <span id="score"></span>
                </div>
                <div class="result-item">
                    <i class="fas fa-hashtag"></i>
                    <p>المحاولة رقم</p>
                    <span id="attempt-number"></span>
                </div>
                <div class="result-item">
                    <i class="fas fa-stopwatch"></i>
                    <p>زمن الاختبار</p>
                    <span id="time-taken"></span>
                </div>
                 <div class="result-item">
                    <i class="fas fa-calendar-day"></i>
                    <p>تاريخ الاختبار</p>
                    <span id="test-date" style="font-size: 1.1rem;"></span>
                </div>
            </div>
            <h3><i class="fas fa-clipboard-list"></i> تفاصيل الإجابات:</h3>
            <table class="results-table">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>السؤال</th>
                        <th>إجابتك</th>
                        <th>الإجابة الصحيحة</th>
                    </tr>
                </thead>
                <tbody id="results-details"></tbody>
            </table>
            <button class="btn" id="restart-btn" style="margin-top: 30px;"><i class="fas fa-redo"></i> إعادة الاختبار</button>
        </div>
    </div>
    
    <!-- Confirmation Modals -->
    <div id="confirm-end-modal-overlay" class="modal-overlay">
        <div class="modal-box">
            <h2><i class="fas fa-exclamation-triangle"></i> تأكيد الإنهاء</h2>
            <p>هل أنت متأكد من رغبتك في إنهاء الاختبار الآن؟ سيتم احتساب نتيجتك بناءً على الإجابات الحالية.</p>
            <div class="modal-buttons">
                <button class="btn" id="cancel-end-btn">متابعة الاختبار</button>
                <button class="btn btn-danger" id="confirm-end-btn">نعم، قم بالإنهاء</button>
            </div>
        </div>
    </div>

    <div id="start-confirm-modal-overlay" class="modal-overlay">
        <div class="modal-box">
            <h2><i class="fas fa-clipboard-check"></i> تأكيد الإعدادات</h2>
            <p>أنت على وشك بدء اختبار بالإعدادات التالية:<br><strong id="start-modal-details" style="color: var(--primary-glow); font-size: 1.2rem; display: block; margin-top: 10px;"></strong><br>هل أنت مستعد للبدء؟</p>
            <div class="modal-buttons">
                <button class="btn" id="cancel-start-btn">تراجع</button>
                <button class="btn" id="confirm-start-btn">نعم، ابدأ الاختبار</button>
            </div>
        </div>
    </div>


    <script>
    // ================== NEW QUESTIONS BANK ==================
    const allQuestions = [
    {
        "question": "تُعرف المشكلة في سياق البرمجة بأنها ناتج أو هدف مطلوب الوصول إليه باتباع ترتيب معين من الخطوات.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "تُعد صناعة البرمجيات في عصرنا الحالي من الصناعات ____ جداً والتي تتطور باستمرار.",
        "answers": [
            "الثانوية",
            "قليلة الأهمية",
            "المهمة",
            "التقليدية"
        ],
        "correct": 2
    },
    {
        "question": "لا يمكن الاستغناء عن المبرمجين في عصرنا الحالي نظراً لقدرتهم على كتابة برامج لحل المشاكل وبناء أنظمة التشغيل مثل Unix و Windows.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "تُعرف مجموعة التعليمات التي تعبر عن المعالجة بطريقة متسلسلة بمضمون يصل إلى نتيجة بعد عدد معين من الخطوات بـ:",
        "answers": [
            "الكود البرمجي",
            "الخوارزمية",
            "المترجمات",
            "واجهة المستخدم"
        ],
        "correct": 1
    },
    {
        "question": "ليس بالسهل كتابة الخوارزمية، إذ أنها تشكل حجر الأساس في وضع برنامج قابل للتنفيذ باستخدام الكمبيوتر.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "من خصائص الخوارزميات أنها يجب أن توصل إلى حل صحيح للمشكلة بعد عدد ____ و ____ من الخطوات.",
        "answers": [
            "لا نهائي، غير محدد",
            "كبير، غير محدد",
            "لا نهائي، محدود",
            "معين، محدود"
        ],
        "correct": 3
    },
    {
        "question": "الخوارزمية التي لا تنتهي إلى حل تعتبر خوارزمية صالحة.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "من أنواع التحكم في الخوارزميات، تنفيذ الخطوات بشكل متتالي حسب ظهورها يسمى:",
        "answers": [
            "الاختيار",
            "التكرار",
            "التسلسل",
            "المعالجة"
        ],
        "correct": 2
    },
    {
        "question": "في التحكم من نوع \"الاختيار\" في الخوارزميات، يمكن تنفيذ مجموعتين مختلفتين من الخطوات في نفس الوقت.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "تتمثل أول مرحلة في مراحل تأليف الخوارزميات في:",
        "answers": [
            "البحث عن الحل",
            "وضع الفرضيات",
            "تنظيم الأفكار",
            "كل ما سبق"
        ],
        "correct": 3
    },
    {
        "question": "الحاسب الآلي يفهم فقط لغة الآلة، والتي تتكون من رمزين هما (صفر وواحد).",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "البرامج الخاصة التي تهدف إلى تحويل تعليمات لغات البرمجة المكتوبة بإحدى اللغات عالية المستوى إلى لغة الآلة تسمى:",
        "answers": [
            "المصممات",
            "الخوارزميات",
            "المترجمات",
            "واجهات المستخدم"
        ],
        "correct": 2
    },
    {
        "question": "من مراحل حل المشكلة، تحديد المشكلة يعني تحديد المخرجات المطلوبة والمدخلات المتوفرة وعمليات المعالجة.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "المرحلة التي تلي إعداد خطوات الحل الخوارزمية في مراحل حل المشكلة هي:",
        "answers": [
            "توثيق البرنامج",
            "اختبار صحة البرنامج",
            "تصميم البرنامج على الكمبيوتر",
            "تحديد المشكلة"
        ],
        "correct": 2
    },
    {
        "question": "توثيق البرنامج يتضمن كتابة مدخلات ومخرجات وخطوات حل المشكلة واللغة المستخدمة وتاريخ آخر تعديل للبرنامج.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "تُعرف البرمجة بأنها \"عملية إعداد خطة أو طريقة لمعالجة المسألة باستخدام الكمبيوتر والحصول على النتائج المرجوة وتحويل الخطة إلى برنامج يكتب وفقاً لقواعد تحددها ____\".",
        "answers": [
            "الخوارزمية",
            "المترجم",
            "لغة البرمجة المستخدمة",
            "نظام التشغيل"
        ],
        "correct": 2
    },
    {
        "question": "يُسمى الشخص الذي يصنع البرنامج ويقوم بكتابته وفحصه وتنفيذه بالمصمم.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "من أنواع البرامج التي تقوم بإدارة نظام الحاسوب ويُخزن بعضها داخله أو على أقراص ويجب شراؤه بشكل منفصل:",
        "answers": [
            "البرمجيات التطبيقية",
            "برمجيات النظم",
            "برمجيات الأغراض العامة",
            "أنظمة قواعد البيانات"
        ],
        "correct": 1
    },
    {
        "question": "برنامج Excel يُصنف ضمن البرمجيات التطبيقية ذات الأغراض العامة.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "البرنامج الذي تكون شفرته البرمجية متاحة للجميع مجاناً يُسمى:",
        "answers": [
            "برنامج مغلق المصدر",
            "برنامج تجاري",
            "برنامج مفتوح المصدر",
            "برنامج احتكاري"
        ],
        "correct": 2
    },
    {
        "question": "نظام التشغيل ويندوز يُعتبر مثالاً على البرامج مفتوحة المصدر.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "من الصفات الشخصية للمصمم:",
        "answers": [
            "التفكير المنطقي",
            "القدرة على حل المشاكل",
            "تذوق الألوان",
            "كل ما سبق"
        ],
        "correct": 2
    },
    {
        "question": "البرمجة تؤثر حالياً في جميع المجالات البشرية تقريباً دون استثناء.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "لغة HAL/S تلعب دوراً دقيقاً في برامج إدارة المكوك الفضائي في وكالة ناسا.",
        "answers": [
            "BASIC",
            "PASCAL",
            "HAL/S",
            "COBOL"
        ],
        "correct": 2
    },
    {
        "question": "تعلم البرمجة لا يتطلب مجهوداً كبيراً أو قضاء ساعات طويلة في القراءة والتعلم.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "من مراحل تعلم البرمجة التي يتم فيها إمداد المتدرب بمجموعة من المعلومات والمعارف:",
        "answers": [
            "مرحلة نمو التثبيت",
            "مرحلة التطور الذاتي والسيطرة",
            "المرحلة المعرفية",
            "مرحلة التطبيق العملي"
        ],
        "correct": 2
    },
    {
        "question": "تُعتبر دراسة البرمجة أولى خطوات الفهم الصحيح لمنطق الكمبيوتر.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "من أهداف تعلم لغات البرمجة أنها تساعد على:",
        "answers": [
            "فهم أعمق للحاسب الآلي",
            "تعلم الأساليب العلمية والتخطيط المنطقي لحل المشاكل",
            "بناء كوادر تتجه نحو التخصص في مجال الحاسب الآلي",
            "كل ما سبق"
        ],
        "correct": 3
    },
    {
        "question": "من معايير البرمجة، \"التوثيق\" يعني أن يتضمن كل ملف وإجراء تعليقات رأسية توضح اسم المؤلف والغرض والتاريخ.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "من معايير البرمجة، \"التصميم الوحدوي\" (Modularity) يعني أن توصف البرمجيات في:",
        "answers": [
            "ثلاثين سطر برمجي على الأكثر",
            "خمسمائة سطر برمجي على الأكثر",
            "مائة سطر برمجي على الأكثر",
            "كل ما سبق (إذا كانت الخيارات تدعم هذا المعنى، أو الاختيار الأفضل هو ثلاثين سطر)"
        ],
        "correct": 0
    },
    {
        "question": "في معيار \"معالجة الأخطاء\"، يجب أن تُطبع رسائل الخطأ باستمرار في أدنى مستوى يتم اكتشاف الخطأ فيه.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "النمط البرمجي الذي يتم فيه تجزئة البرنامج إلى عدة برامج فرعية تُربط لتكون البرنامج العام يسمى:",
        "answers": [
            "البرمجة العشوائية",
            "البرمجة الهيكلية",
            "البرمجة الشيئية",
            "البرمجة اللوغاريتمية"
        ],
        "correct": 1
    },
    {
        "question": "البرمجة الشيئية هي البرمجة التي تحاكي الواقع وتعتمد على بناء البرمجة التي تضم الكائنات والبيانات والإجراءات.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "من خطوات عمليات البرمجة حسب (Younghee) التي تتضمن التحليل والتخطيط والتطبيق:",
        "answers": [
            "الترميز",
            "التصميم",
            "المراقبة (التوجيه)",
            "الاختبار"
        ],
        "correct": 2
    },
    {
        "question": "عملية \"التصميم\" في مراحل البرمجة تعني ترجمة التصميم إلى شكل مقروء آلياً.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "مرحلة \"الدعم\" (Support) في عمليات البرمجة تحدث بعد:",
        "answers": [
            "التحليل",
            "التصميم",
            "الاختبار",
            "تسليم البرنامج للعميل"
        ],
        "correct": 3
    },
    {
        "question": "المبرمج في البيئات الاحترافية غالباً ما يتسلم التصاميم ووثائق متطلبات النظام من الخبراء لتحويلها إلى برنامج حي.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "من أهم الخطوات التي يجب على متعلم البرمجة القيام بها قبل البدء بالتعلم هي:",
        "answers": [
            "تعلم كل شيء بسرعة",
            "أن يكون الأفضل على الإطلاق",
            "التخلص من التشتت الذهني من كثرة المصادر والمعلومات",
            "البدء في مشاريع كبيرة فوراً"
        ],
        "correct": 2
    },
    {
        "question": "بعض الدول اعتمدت البرمجة كمادة أساسية في المدارس للأطفال.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "يُعتبر ترتيب الخطوات في الخوارزمية غير مهم لتحقيق النتيجة المطلوبة.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "لا يستطيع الكمبيوتر فهم أي لغة من اللغات الإنسانية، لكنه يفهم لغة واحدة فقط هي لغة الآلة.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "تتكون لغة الآلة من:",
        "answers": [
            "الحروف الإنجليزية",
            "أشكال هيروغليفية",
            "الرقمين (0، 1) فقط",
            "الكلمات والجمل"
        ],
        "correct": 2
    },
    {
        "question": "تسمى لغات البرمجة باللغات عالية المستوى لأنها أقرب إلى لغة الآلة منها إلى اللغة الإنسانية.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "بدأت البرمجة كعلم مع تصميم أول حاسوب في العالم في فترة:",
        "answers": [
            "الثلاثينات",
            "الأربعينات",
            "الخمسينات",
            "الستينات"
        ],
        "correct": 1
    },
    {
        "question": "لغة التجميع (Assembly) ظهرت لمواجهة صعوبة لغة الآلة واعتمدت على المترجمات.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "لغة البرمجة التي تُستخدم بشكل واسع في البنوك والمنظمات الحكومية وتُعد لغة أعمال هي:",
        "answers": [
            "BASIC",
            "FORTRAN",
            "PASCAL",
            "COBOL"
        ],
        "correct": 3
    },
    {
        "question": "الحاسوب آلة لا تنطوي على أي ذكاء، لكنها قادرة على تنفيذ أي سلسلة من التعليمات بسرعة كبيرة.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "تُخزن البيانات والمعلومات في جهاز الحاسوب في هيئة أرقام تتوافق مع نظام العد:",
        "answers": [
            "العشري",
            "الست عشري",
            "الثماني",
            "الثنائي"
        ],
        "correct": 3
    },
    {
        "question": "من خصائص لغات البرمجة المشتركة أنها جميعها مجعولة للتعامل مع الكمبيوتر.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "من صفات البرامج المصممة بإحدى لغات البرمجة \"الموثوقية\" والتي تعني:",
        "answers": [
            "سهولة استخدام الشخص للبرنامج",
            "مدى نجاح البرنامج في توقع المشاكل",
            "الحصول على نتائج صحيحة من البرنامج",
            "سهولة إجراء تعديلات على البرنامج"
        ],
        "correct": 2
    },
    {
        "question": "تُعد لغات البرمجة منخفضة المستوى (Low-level languages) الأقرب إلى لغة الآلة.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "من الأمثلة على لغات البرمجة عالية المستوى (High-level languages) التي تتيح للمبرمج استخدام المتغيرات والكائنات والروتينات والتكرار:",
        "answers": [
            "لغة الآلة",
            "لغة التجميع",
            "بايثون",
            "كل ما سبق"
        ],
        "correct": 2
    },
    {
        "question": "اللغات البرمجية المُفسّرة (Interpreted) تنتج ملفاً تنفيذياً جاهزاً لمرة واحدة.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "من خصائص اللغات القائمة على المُترجم (Compiler):",
        "answers": [
            "تنفيذ البرامج أبطأ نسبياً",
            "لا ينتج كود وسيط قبل كود الآلة",
            "تستهلك وقت طويل في فحص وتحويل الكود الأصلي",
            "لا تقوم الآلة بتنفيذ الكود الثنائي"
        ],
        "correct": 2
    },
    {
        "question": "لغة PHP تُصنف ضمن اللغات البرمجية المُفسّرة (Interpreted).",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "من لغات البرمجة التي يمكن استخدامها في تطوير تطبيقات الهواتف التي تعمل بأنظمة تشغيل Android و iOS:",
        "answers": [
            "JavaScript",
            "PHP",
            "Java",
            "Python"
        ],
        "correct": 2
    },
    {
        "question": "تتميز لغة الآلة بالسهولة في كتابة سلاسل طويلة من الأصفار والواحدات.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "اللغة التي تستخدم اختصارات معبرة من اللغة الإنجليزية للتعبير عن العمليات الأولية التي يقوم بها الحاسب تسمى:",
        "answers": [
            "لغة الآلة",
            "لغة التجميع",
            "اللغات العليا",
            "لغات الجيل الرابع"
        ],
        "correct": 1
    },
    {
        "question": "تتميز اللغات العليا بأنها غير مرتبطة بجهاز معين، مما يعني إمكانية تنفيذ البرنامج المكتوب بها على أكثر من جهاز.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "من اللغات العليا التي تُسمى بلغات الحل والإجراءات (Procedure-Oriented Languages) وتُعطي التعليمات للمبرمج خطوة بخطوة:",
        "answers": [
            "لغات الجيل الرابع",
            "لغات الجيل الخامس",
            "COBOL و BASIC و FORTRAN",
            "HTML"
        ],
        "correct": 2
    },
    {
        "question": "لغة FORTRAN هي أقدم اللغات ذات المستوى العالي وظهرت في منتصف الستينات.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "لغة BASIC سُميت بهذا الاسم لأنها:",
        "answers": [
            "لغة معقدة",
            "لغة موجهة للأعمال",
            "لغة الأغراض المتعددة للمبتدئين",
            "لغة علمية بحتة"
        ],
        "correct": 2
    },
    {
        "question": "لغة PASCAL سميت باسم العالم الفرنسي الرياضي بليز باسكال.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "تُشتهر لغة C باستخدامها كلغة برمجة نظم (system software) لكتابة برامج:",
        "answers": [
            "تطبيقات الأغراض العامة",
            "قواعد البيانات",
            "الألعاب",
            "النظم التشغيلية"
        ],
        "correct": 3
    },
    {
        "question": "لغات الجيل الرابع تتميز بقلة التعليمات التي يكتبها المبرمج لتحقيق هدف ما.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "لغة SQL تُستخدم بشكل أساسي في:",
        "answers": [
            "برمجة الألعاب",
            "تطوير تطبيقات الهواتف المحمولة",
            "عمليات بناء قواعد المعلومات وتحديثها وحمايتها",
            "إنشاء المواقع الإلكترونية دون قواعد بيانات"
        ],
        "correct": 2
    },
    {
        "question": "في لغات الجيل الخامس (اللغات الطبيعية)، يفهم الحاسب المقصود حتى لو كانت هناك أخطاء لغوية.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "لغة HTML هي اختصار لـ:",
        "answers": [
            "High-level Machine Language",
            "Human Textual Markup Language",
            "Hypertext Markup Language",
            "Home Tool Management Language"
        ],
        "correct": 2
    },
    {
        "question": "لغة HTML تُعتبر لغة برمجة للمواقع الإلكترونية.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "لغة JavaScript تهدف إلى إضافة:",
        "answers": [
            "قوة إلى قواعد البيانات",
            "الحيوية إلى صفحات الويب",
            "الأمان للملفات",
            "القدرة على التعامل مع الأجهزة الطرفية"
        ],
        "correct": 1
    },
    {
        "question": "تختلف لغة الآلة من جهاز لآخر حسب النوع والتركيب.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "عملية \"الربط\" (Linking) في مراحل تنفيذ البرنامج المكتوب بلغات المستوى العالي تعني:",
        "answers": [
            "تحميل شيفرة الهدف إلى الذاكرة الرئيسية",
            "تحويل البرنامج إلى لغة الآلة",
            "ربط الروتينات المكتبية والتعليمات بالمكتبة والبرنامج الضرورية",
            "اختبار صحة البرنامج"
        ],
        "correct": 2
    },
    {
        "question": "لغة Java طورتها شركة Sun Microsystems على غرار لغة C++.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "ما هي اللغة الوحيدة التي يفهمها الكمبيوتر مباشرة؟",
        "answers": [
            "لغة التجميع",
            "اللغات عالية المستوى",
            "لغة الآلة",
            "لغات الجيل الرابع"
        ],
        "correct": 2
    },
    {
        "question": "من مميزات اللغات العليا سهولة اكتشاف الأخطاء وتصحيحها وفهم البرامج.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "في مراحل تنفيذ البرنامج المكتوب بلغات المستوى العالي، \"التحميل\" (Loading) يعني:",
        "answers": [
            "تحويل البرنامج إلى لغة الآلة",
            "ربط الروتينات المكتبية",
            "قيام البرنامج بتحميل شيفرة الهدف والروتينات والتعليمات إلى الذاكرة الرئيسية بغرض التنفيذ",
            "طباعة تقرير نهائي"
        ],
        "correct": 2
    },
    {
        "question": "يُعد المجمع (Assembler) البرنامج المسؤول عن ترجمة الكود المكتوب بلغة التجميع إلى لغة الآلة.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "من أنواع لغات البرمجة حسب الغرض من الاستخدام، اللغات المخصصة لتطوير المواقع الإلكترونية وإنشائها هي:",
        "answers": [
            "Java",
            "Swift",
            "C#",
            "PHP"
        ],
        "correct": 3
    },
    {
        "question": "اللغات عالية المستوى أبعد عن لغة الآلة، وأقرب لفهم الإنسان.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "من خصائص اللغات القائمة على المُفسّر (Interpreter) أن:",
        "answers": [
            "تنفيذ البرامج سريع جداً",
            "ينتج كود وسيط قبل كود الآلة",
            "يقوم بتحويل الكود الأصلي إلى ملف تنفيذي",
            "يستهلك وقت طويل في الفحص والتحليل"
        ],
        "correct": 1
    },
    {
        "question": "الفيجوال بيسك هي لغة برمجة شيئية بالكامل وتدعم كافة أشكال البرمجة الشيئية.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "تُصنف لغة الفيجوال بيسك ضمن لغات البرمجة:",
        "answers": [
            "الإجرائية",
            "الوظيفية",
            "الشيئية",
            "المنطقية"
        ],
        "correct": 2
    },
    {
        "question": "برامج الفيجوال بيسك تُترجم بالكامل إلى لغة الآلة مثل C++ أو Delphi.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "تعني الديناميكية في لغة الفيجوال بيسك القدرة على:",
        "answers": [
            "كتابة برامج ذات شاشة سوداء",
            "استدعاء أي اقتران أو إجراء اعتماداً على الحدث",
            "العمل فقط تحت بيئة DOS",
            "تحويل الكود إلى لغة التجميع"
        ],
        "correct": 1
    },
    {
        "question": "من خصائص الفيجوال بيسك أنها لغة سهلة وسريعة لإنشاء تطبيقات ويندوز.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "من مميزات الفيجوال بيسك أنها تتمتع بـ:",
        "answers": [
            "صعوبة في اكتشاف الأخطاء",
            "عدم دعمها للوسائط المتعددة",
            "سهولة التعامل مع قواعد البيانات المختلفة",
            "عدم قدرتها على إنشاء حزم البرامج"
        ],
        "correct": 2
    },
    {
        "question": "الفيجوال بيسك تدعم إنشاء حزم البرامج (Setup Programs) بكفاءة عالية.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "من عيوب الفيجوال بيسك:",
        "answers": [
            "دعمها الكامل للبرمجة الشيئية",
            "عدم ترجمتها بالكامل إلى لغة الآلة",
            "مجانية ملفاتها",
            "خلو المترجم الخاص بها من الشوائب"
        ],
        "correct": 1
    },
    {
        "question": "يُعتبر المترجم الخاص بالفيجوال بيسك خالياً تماماً من الشوائب التي قد تظهر في البرنامج المكتوب.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "من مميزات الفيجوال بيسك أنها:",
        "answers": [
            "يمكن أن يشغل برامجها مستخدم واحد فقط",
            "لا تدعم أدوات كثيرة تتعامل مع الشبكة الدولية",
            "سهولة اكتشاف وتصحيح الأخطاء أثناء تشغيل البرنامج",
            "برمجة معقدة وغير ممتعة"
        ],
        "correct": 2
    },
    {
        "question": "الإصدار الأول من Visual Basic كان موجهاً لتطوير تطبيقات Windows الحقيقية بشكل كامل.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "الإصدار من Visual Basic الذي قدم دعم قواعد البيانات وأصبح ذو نهاية مفتوحة بفضل الإضافات التي يمكن دمجها (مثل OCX التي تطورت لاحقاً إلى VBX):",
        "answers": [
            "Visual Basic 1",
            "Visual Basic 2",
            "Visual Basic 3",
            "Visual Basic 4"
        ],
        "correct": 2
    },
    {
        "question": "الإصدار Visual Basic 4 أضاف إمكانية إنشاء مكتبات من نوع ActiveX DLL.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "أي من إصدارات Visual Basic التالية يعتبر الإعلان الرسمي بأنها لغة برمجة لتطوير التطبيقات الحقيقية والتجارية:",
        "answers": [
            "Visual Basic 3",
            "Visual Basic 4",
            "Visual Basic 5",
            "Visual Basic 6"
        ],
        "correct": 2
    },
    {
        "question": "Visual Basic 6 لا يختلف كثيراً عن الإصدار الخامس، لكنه يضم تحسينات وعالج بعض الشوائب.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "أضافت Visual Basic 6 تحسينات واضحة في:",
        "answers": [
            "أدوات قواعد البيانات المبنية على ADO",
            "أدوات التحكم",
            "دعم أنواع البيانات المعرفة من قبل المستخدم (UDT)",
            "كل ما سبق"
        ],
        "correct": 3
    },
    {
        "question": "تطبيقات Visual Basic التي تُنشأ بواسطتها تكون متوافقة بنسبة 100% مع إصدارات Windows المختلفة.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "من حلول الإنترنت التي يوفرها Visual Basic:",
        "answers": [
            "إنشاء أدوات تحكم ActiveX Controls لتنفيذها في صفحة ويب",
            "تصميم تطبيقات متقدمة كـ ActiveX Documents",
            "تطوير تطبيقات إنترنت خاصة بالعميل والخادم",
            "كل ما سبق"
        ],
        "correct": 3
    },
    {
        "question": "فيجوال بيسك هي بيئة تطوير قوية وفعالة لتطوير تطبيقات Windows وتوفر بيئة تطوير متكاملة سهلة الاستخدام.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "عند تشغيل برنامج فيجوال بيسك، سترى عدداً من النوافذ التي تعرف بـ:",
        "answers": [
            "Visual Basic IDE",
            "بيئة التطوير المتكاملة للفيجوال بيسك",
            "Integrated Development Environment for Visual Basic",
            "كل ما سبق"
        ],
        "correct": 3
    },
    {
        "question": "في فيجوال بيسك، يمكنك تصميم واجهة برنامجك رسومياً عن طريق سحب وتحريك العناصر ونقرات الفأرة الخفيفة.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "من الأجزاء الرئيسية لشاشة فيجوال بيسك:",
        "answers": [
            "شريط القوائم (Menu Bar)",
            "صندوق أدوات التحكم (Toolbox Controls)",
            "شاشة الخصائص (Properties window)",
            "كل ما سبق"
        ],
        "correct": 3
    },
    {
        "question": "فيجوال بيسك لا تعتمد على الكائنات والأحداث في تصميمها.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "تقنية ActiveX تُعد:",
        "answers": [
            "أداة لإنشاء واجهات المستخدم فقط",
            "برنامج تشغيل مستقل",
            "تقنية لإنشاء مكونات برمجية قابلة للدمج في برامج أخرى",
            "لغة برمجة جديدة"
        ],
        "correct": 2
    },
    {
        "question": "زر الأمر (Command Button) في فيجوال بيسك يُعتبر مثالاً على عنصر تحكم ActiveX.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "هدف البرمجة في فيجوال بيسك عند عمل تطبيق معين هو:",
        "answers": [
            "الحصول على المنتج النهائي في أسرع وقت ممكن فقط",
            "تجاهل الكفاءة والدقة للحفاظ على الوقت والمال",
            "الحفاظ على الوقت والمال مع مراعاة الكفاءة والدقة للوصول للمنتج النهائي",
            "التركيز على الجودة على حساب الوقت والمال"
        ],
        "correct": 2
    },
    {
        "question": "الفيجوال بيسك كانت تعتمد على بيئة DOS في تطوير تطبيقاتها قبل أن تنتقل للعمل تحت بيئة Windows.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "من أهم مميزات الفيجوال بيسك التي ساعدت على انتشارها:",
        "answers": [
            "تعقيدها الشديد",
            "عدم توافقيتها مع ويندوز",
            "اقتصارها على برمجة الأنظمة الكبيرة",
            "سهولتها وشعبيتها بين المبرمجين"
        ],
        "correct": 3
    },
    {
        "question": "لغة الفيجوال بيسك تدعم التعامل مع العناصر البرمجية المستوردة (ActiveX Controls).",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "الإصدار الذي كان بمثابة مرحلة انتقالية لـ Visual Basic إلى Windows 95 وإمكانية تطوير تطبيقات من نوع 32-bit:",
        "answers": [
            "Visual Basic 2",
            "Visual Basic 3",
            "Visual Basic 4",
            "Visual Basic 5"
        ],
        "correct": 2
    },
    {
        "question": "تتميز برامج الفيجوال بيسك بسرعة تجربتها واعتمادها على مكتبة الربط (Run Time library).",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "أي من إصدارات Visual Basic .NET التالية صدرت ضمن ثلاثة إصدارات رئيسية:",
        "answers": [
            "Vb 2003",
            "vb2005",
            "vb 2008",
            "كل ما سبق"
        ],
        "correct": 3
    },
    {
        "question": "نواة Windows الداخلية التي تعبر عن روح نظام API هي عبارة عن إجراءات Visual Basic.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "فيجوال بيسك لا تزال تحقق شعبية لا مثيل لها بين مطوري تطبيقات Windows و فرصها الوظيفية هي الأعلى.",
        "answers": [
            "خطأ",
            "صح"
        ],
        "correct": 1
    },
    {
        "question": "لا يمكن لمستخدم واحد أو عدة مستخدمين تشغيل برامج فيجوال بيسك في آن واحد.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "تُعرف لغة البرمجة التي تحتوي على تصميم مرئي وواجهة رسومية بـ:",
        "answers": [
            "لغة التجميع",
            "لغة الآلة",
            "لغة ذات شاشة سوداء",
            "فيجوال بيسك"
        ],
        "correct": 3
    },
    {
        "question": "من عيوب الفيجوال بيسك أنها تدعم جميع أشكال البرمجة الشيئية.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "الإصدار الأول من Visual Basic كان يتميز بـ:",
        "answers": [
            "إمكانية تطوير تطبيقات معقدة",
            "كونه موجهاً لتطوير Windows الحقيقية",
            "كونه محدوداً للغاية ومسلياً كلعبة للمبرمجين",
            "دعمه لقواعد البيانات المتقدمة"
        ],
        "correct": 2
    },
    {
        "question": "من مميزات Visual Basic أنها تتضمن مجموعة كبيرة من الكائنات (objects).",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "لغة الفيجوال بيسك تسمح للمبرمج بالتركيز على حل المشكلة غالباً دون مواجهة صعوبات فنية أثناء كتابة البرنامج.",
        "answers": [
            "خطأ",
            "صح"
        ],
        "correct": 1
    },
    {
        "question": "Visual Basic 5 قدم ميزة التحكم في الشيفرة المصدرية للملف التنفيذي (EXE).",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "من أدوات التحكم التي تأتي مع فيجوال بيسك وتعد طريقة جيدة لتطوير البرامج:",
        "answers": [
            "ActiveX",
            "Objects",
            "كل ما سبق",
            "لا شيء مما سبق"
        ],
        "correct": 2
    },
    {
        "question": "عملية البرمجة بالفيجوال بيسك لا تُعد متعة حقيقية للمبرمج.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "من مميزات الفيجوال بيسك:",
        "answers": [
            "إمكانية استخدام عدد قليل من الأيقونات والصور",
            "صعوبة عمل ملف تنفيذي (Execution File)",
            "سهولة ربطها مع التطبيقات الأخرى مثل Word-Excel",
            "عدم دعمها لبرامج الإعداد (Setup Programs)"
        ],
        "correct": 2
    },
    {
        "question": "لا يمكن لـ Visual Basic إنشاء تطبيقات متقدمة مثل ActiveX Documents.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "من أهم عيوب الفيجوال بيسك أنها:",
        "answers": [
            "تتميز بالسرعة في التشغيل",
            "تدعم الكثير من الميزات",
            "غالباً ما تحتاج للدفع للحصول على ملفاتها",
            "سهلة في اكتشاف الأخطاء"
        ],
        "correct": 2
    },
    {
        "question": "الفيجوال بيسك ليست قوية وفعالة لتطوير تطبيقات Windows.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "القدرة على استدعاء أي اقتران أو إجراء اعتماداً على الحدث تُسمى:",
        "answers": [
            "الثبات",
            "الشيئية",
            "الديناميكية",
            "التوافقية"
        ],
        "correct": 2
    },
    {
        "question": "أي برنامج يخدم المستخدم لا بد فيه من واجهة مستخدم وعمليات خلفية يقوم بهما المصمم والمبرمج سوياً.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "أي من الأوامر التالية يُستخدم في HTML لإدراج صورة؟",
        "answers": [
            "<p>",
            "<b>",
            "<a>",
            "<img>"
        ],
        "correct": 3
    },
    {
        "question": "وسم <HTML> يُستخدم في بداية ونهاية أي صفحة ويب مكتوبة بلغة HTML.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "الخاصية التي تُضاف في HTML لوصف الصورة في حالة عدم ظهورها لسبب ما هي:",
        "answers": [
            "src",
            "width",
            "height",
            "alt"
        ],
        "correct": 3
    },
    {
        "question": "وسم <br> في HTML يُستخدم للنزول سطر واحد.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "الجزء من صفحة الويب الذي يتم فيه وضع عنوان الموقع أو تفاصيل الصفحة ويحوي وصفاً للموقع هو:",
        "answers": [
            "<body>",
            "<p>",
            "<img>",
            "<head>"
        ],
        "correct": 3
    },
    {
        "question": "وسم <b> في HTML يُستخدم لتفخيم النص (Bold).",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "الوسم الذي يُستخدم لعمل نص مائل (Italic) في HTML هو:",
        "answers": [
            "<b>",
            "<p>",
            "<i>",
            "<u> (هذا لا يوجد في المصدر صراحة، ولكن <i> هو الصحيح)"
        ],
        "correct": 2
    },
    {
        "question": "الخاصية face في وسم الخط <font> تحدد نوع الخط.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "لتعيين لون الخط في HTML، تُستخدم الخاصية:",
        "answers": [
            "face",
            "align",
            "dir",
            "color"
        ],
        "correct": 3
    },
    {
        "question": "الخاصية rtl في HTML تعني أن اتجاه النص من اليسار إلى اليمين.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "الوسم <table > في HTML يُستخدم لإنشاء:",
        "answers": [
            "قائمة",
            "فقرة",
            "صورة",
            "جدول"
        ],
        "correct": 3
    },
    {
        "question": "في الجدول، الوسم <tr> يُستخدم لتمثيل خلية واحدة.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "الوسم الذي يرمز للقائمة غير المرتبة (Unordered List) في HTML هو:",
        "answers": [
            "<ol>",
            "<li>",
            "<ul>",
            "<list>"
        ],
        "correct": 2
    },
    {
        "question": "الوسم <li> في HTML يُستخدم لتمثيل عنصر داخل القائمة.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "لتحديد سمك حواف الجدول في HTML، تُستخدم الخاصية:",
        "answers": [
            "width",
            "align",
            "border",
            "bgcolor"
        ],
        "correct": 2
    },
    {
        "question": "الخاصية align=\"center\" تُستخدم لتوسيط محتوى الجدول في HTML.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "لتحديد لون خلفية الجدول في HTML، يُستخدم الكود:",
        "answers": [
            "bordercolor",
            "dir",
            "bgcolor",
            "width"
        ],
        "correct": 2
    },
    {
        "question": "الوسم <meta> في HTML يُعتبر مهماً للمتصفحات ومحركات البحث.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 0
    },
    {
        "question": "الوسم الذي يُستخدم لإنشاء رابط تشعبي (Link) في HTML هو:",
        "answers": [
            "<img>",
            "<p>",
            "<b>",
            "<a>"
        ],
        "correct": 3
    },
    {
        "question": "الخاصية target=\"_blank\" في رابط HTML تُستخدم لفتح الموقع في نفس الصفحة.",
        "answers": [
            "صح",
            "خطأ"
        ],
        "correct": 1
    },
    {
        "question": "أي من الوسوم التالية يُستخدم لإنشاء فقرة (Paragraph) في HTML:",
        "answers": [
            "<h1>",
            "<b>",
            "<i>",
            "<p>"
        ],
        "correct": 3
    }
];

    const welcomeScreen = document.getElementById('welcome-screen');
    const examScreen = document.getElementById('exam-screen');
    const resultsScreen = document.getElementById('results-screen');
    const startBtn = document.getElementById('start-btn');
    const lastResultBtn = document.getElementById('last-result-btn');
    const nextBtn = document.getElementById('next-btn');
    const restartBtn = document.getElementById('restart-btn');
    const questionCountSelect = document.getElementById('question-count');
    const noTimerCheckbox = document.getElementById('no-timer-checkbox');
    const questionCounter = document.getElementById('question-counter');
    const timerDisplay = document.getElementById('timer-display').querySelector('span');
    const timerContainer = document.querySelector('.timer-container');
    const timerBar = document.getElementById('timer-bar');
    const questionText = document.getElementById('question-text');
    const answersGrid = document.getElementById('answers-grid');
    const prevBtn = document.getElementById('prev-btn');
    const endExamBtn = document.getElementById('end-exam-btn');
    const randomQuestionsBtn = document.getElementById('random-q-btn');
    
    // Get references to modal elements
    const confirmEndModal = document.getElementById('confirm-end-modal-overlay');
    const confirmEndBtn = document.getElementById('confirm-end-btn');
    const cancelEndBtn = document.getElementById('cancel-end-btn');
    
    const startConfirmModal = document.getElementById('start-confirm-modal-overlay');
    const startModalDetails = document.getElementById('start-modal-details');
    const confirmStartBtn = document.getElementById('confirm-start-btn');
    const cancelStartBtn = document.getElementById('cancel-start-btn');

    let currentQuestions = [];
    let currentQuestionIndex = 0;
    let userAnswers = [];
    let isTimerEnabled = true;
    
    let examTimerInterval;
    let totalTimeAllowed;
    let timeRemaining;


    // --- Event Listeners ---
    
    // UPDATED: startBtn listener to show custom modal first
    startBtn.addEventListener('click', () => {
        const countText = questionCountSelect.options[questionCountSelect.selectedIndex].text;
        const timerStatus = noTimerCheckbox.checked ? "بدون مؤقت زمني" : "مع مؤقت زمني";

        startModalDetails.innerHTML = `${countText} • ${timerStatus}`;
        startConfirmModal.style.display = 'flex';
    });

    nextBtn.addEventListener('click', handleNextClick);
    prevBtn.addEventListener('click', handlePrevClick);
    
    // endExamBtn listener to show custom modal
    endExamBtn.addEventListener('click', () => {
        if (currentQuestionIndex === currentQuestions.length - 1) {
            endExam();
        } else {
            confirmEndModal.style.display = 'flex';
        }
    });

    // Listeners for the new modal buttons
    cancelEndBtn.addEventListener('click', () => {
        confirmEndModal.style.display = 'none';
    });

    confirmEndBtn.addEventListener('click', () => {
        confirmEndModal.style.display = 'none';
        endExam();
    });
    
    // Listeners for start confirmation modal
    cancelStartBtn.addEventListener('click', () => {
        startConfirmModal.style.display = 'none';
    });
    
    confirmStartBtn.addEventListener('click', () => {
        startConfirmModal.style.display = 'none';
        startExam();
    });

    // Optional - close modals by clicking on the overlay
    confirmEndModal.addEventListener('click', (e) => {
        if (e.target === confirmEndModal) {
            confirmEndModal.style.display = 'none';
        }
    });
    startConfirmModal.addEventListener('click', (e) => {
        if (e.target === startConfirmModal) {
            startConfirmModal.style.display = 'none';
        }
    });

    restartBtn.addEventListener('click', () => {
        resultsScreen.style.display = 'none';
        welcomeScreen.style.display = 'block';
    });
    lastResultBtn.addEventListener('click', showLastResult);
    randomQuestionsBtn.addEventListener('click', setRandomQuestionCount);

    // --- Core Functions ---
    function startExam() {
        const count = questionCountSelect.value;
        let shuffled = [...allQuestions].sort(() => 0.5 - Math.random());
        currentQuestions = count === 'all' ? shuffled : shuffled.slice(0, parseInt(count, 10));
        
        if(currentQuestions.length === 0) {
            alert("الرجاء اختيار عدد صالح من الأسئلة.");
            return;
        }

        currentQuestionIndex = 0;
        userAnswers = new Array(currentQuestions.length).fill(-1);
        isTimerEnabled = !noTimerCheckbox.checked;

        welcomeScreen.style.display = 'none';
        resultsScreen.style.display = 'none';
        examScreen.style.display = 'block';

        if (isTimerEnabled) {
            timerContainer.style.display = 'block';
            timerDisplay.parentElement.style.display = 'flex';
            totalTimeAllowed = currentQuestions.length * 30; // 30 seconds per question
            timeRemaining = totalTimeAllowed;
            startGlobalTimer();
        } else {
            timerContainer.style.display = 'none';
            timerDisplay.parentElement.style.display = 'none';
        }

        displayQuestion();
    }
    
    function setRandomQuestionCount() {
        const min = 5;
        const max = allQuestions.length;
        const randomCount = Math.floor(Math.random() * (max - min + 1)) + min;
        
        let randomOption = document.getElementById('random-option');
        if (!randomOption) {
            randomOption = document.createElement('option');
            randomOption.id = 'random-option';
            questionCountSelect.prepend(randomOption);
        }
        
        randomOption.value = randomCount;
        randomOption.textContent = `${randomCount} سؤال (عشوائي)`;
        questionCountSelect.value = randomCount;
    }

    function displayQuestion() {
        resetState();
        
        const question = currentQuestions[currentQuestionIndex];
        questionCounter.textContent = `سؤال ${currentQuestionIndex + 1} / ${currentQuestions.length}`;
        questionText.textContent = question.question;

        question.answers.forEach((answer, index) => {
            const button = document.createElement('button');
            button.textContent = answer;
            button.classList.add('answer-btn');
            button.dataset.index = index;
            button.addEventListener('click', selectAnswer);
            answersGrid.appendChild(button);
        });

        if (userAnswers[currentQuestionIndex] !== -1) {
            const selectedBtn = answersGrid.querySelector(`[data-index="${userAnswers[currentQuestionIndex]}"]`);
            if (selectedBtn) selectedBtn.classList.add('selected');
        }
        
        updateNavButtons();
    }

    function selectAnswer(e) {
        Array.from(answersGrid.children).forEach(btn => btn.classList.remove('selected'));
        e.target.classList.add('selected');
        userAnswers[currentQuestionIndex] = parseInt(e.target.dataset.index, 10);
    }

    function handleNextClick() {
        if (currentQuestionIndex < currentQuestions.length - 1) {
            currentQuestionIndex++;
            displayQuestion();
        }
    }
    
    function handlePrevClick() {
        if (currentQuestionIndex > 0) {
            currentQuestionIndex--;
            displayQuestion();
        }
    }

    function startGlobalTimer() {
        timerBar.style.transition = 'none'; 
        timerBar.style.width = '100%';
        setTimeout(() => { timerBar.style.transition = 'width 1s linear'; }, 50);

        updateTimerDisplay();

        examTimerInterval = setInterval(() => {
            timeRemaining--;
            updateTimerDisplay();

            if (timeRemaining < 0) {
                alert('انتهى الوقت!');
                endExam();
            }
        }, 1000);
    }
    
    function updateTimerDisplay() {
        const displayTime = Math.max(0, timeRemaining);
        const minutes = Math.floor(displayTime / 60);
        const seconds = displayTime % 60;
        timerDisplay.textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        
        const percentageRemaining = (displayTime / totalTimeAllowed) * 100;
        timerBar.style.width = `${percentageRemaining}%`;
    }

    function endExam() {
        clearInterval(examTimerInterval);

        const timeTakenSec = isTimerEnabled ? totalTimeAllowed - timeRemaining : 0;
        
        let finalScore = 0;
        currentQuestions.forEach((q, i) => {
            if(userAnswers[i] === q.correct) {
                finalScore++;
            }
        });

        const previousResults = JSON.parse(localStorage.getItem('quizResults')) || [];
        const attemptNumber = previousResults.length + 1;

        const resultData = {
            score: finalScore,
            totalQuestions: currentQuestions.length,
            attemptNumber: attemptNumber,
            date: new Date().toLocaleString('ar-EG', { dateStyle: 'medium', timeStyle: 'short' }),
            timeTaken: formatTime(timeTakenSec),
            questions: currentQuestions.map((q, i) => ({
                question: q.question,
                userAnswer: userAnswers[i] !== -1 ? q.answers[userAnswers[i]] : 'لم تتم الإجابة',
                correctAnswer: q.answers[q.correct],
                isCorrect: userAnswers[i] === q.correct
            }))
        };
        
        previousResults.push(resultData);
        localStorage.setItem('quizResults', JSON.stringify(previousResults));

        showResults(resultData);
    }

    // --- Helper Functions ---
    function resetState() {
        answersGrid.innerHTML = '';
    }
    
    function updateNavButtons() {
        prevBtn.disabled = (currentQuestionIndex === 0);
        nextBtn.disabled = (currentQuestionIndex === currentQuestions.length - 1);
    }
    
    function formatTime(totalSeconds) {
        if (!isTimerEnabled || totalSeconds <= 0) return 'غير محدد';
        const minutes = Math.floor(totalSeconds / 60);
        const seconds = totalSeconds % 60;
        return `${minutes} دقيقة و ${seconds} ثانية`;
    }

    function showResults(resultData) {
        examScreen.style.display = 'none';
        welcomeScreen.style.display = 'none';
        resultsScreen.style.display = 'block';

        document.getElementById('score').textContent = `${resultData.score} / ${resultData.totalQuestions}`;
        document.getElementById('attempt-number').textContent = resultData.attemptNumber;
        document.getElementById('time-taken').textContent = resultData.timeTaken;
        document.getElementById('test-date').textContent = resultData.date;
        
        const detailsBody = document.getElementById('results-details');
        detailsBody.innerHTML = '';
        
        resultData.questions.forEach((item, index) => {
            const row = document.createElement('tr');
            const userChoiceIcon = item.isCorrect 
                ? '<i class="fas fa-check-circle correct-icon"></i>' 
                : '<i class="fas fa-times-circle wrong-icon"></i>';
            
            row.innerHTML = `
                <td>${index + 1}</td>
                <td>${item.question}</td>
                <td>${item.userAnswer !== 'لم تتم الإجابة' ? userChoiceIcon : ''} ${item.userAnswer}</td>
                <td>${item.correctAnswer}</td>
            `;
            detailsBody.appendChild(row);
        });
    }

    function showLastResult() {
        const allResults = JSON.parse(localStorage.getItem('quizResults'));
        if (allResults && allResults.length > 0) {
            showResults(allResults[allResults.length - 1]);
        } else {
            alert('لا توجد نتائج سابقة محفوظة.');
        }
    }
    </script>
</body>
</html>